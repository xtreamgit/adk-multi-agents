[3J[H[2J[0;35m
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                               â•‘
â•‘     ADK RAG AGENT - COMPLETE DEPLOYMENT PIPELINE              â•‘
â•‘                                                               â•‘
â•‘     Modular Cloud Run + Load Balancer + IAP                   â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[0m
[0;34mâ„¹ï¸  Loading configuration from: ./deployment.config[0m
Configuration loaded:
  Project ID: adk-rag-hdtest6
  Region: us-east4
  Organization: develom.com
  Admin User: hector@develom.com
  Repository: cloud-run-repo1
[0;34mðŸ“‹ Deployment Configuration:[0m
  Project ID: adk-rag-hdtest6
  Region: us-east4
  Repository: cloud-run-repo1
  Organization: develom.com
  Admin User: hector@develom.com

[1;33mâš™ï¸  Deployment Options:[0m
  â€¢ Skip APIs: No
  â€¢ Skip Cloud Run: No
  â€¢ Skip Load Balancer: No
  â€¢ Skip IAP: No
  â€¢ Skip OAuth: No


[0;34mâ„¹ï¸  Starting deployment pipeline...[0m


[0;36mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m
[0;36mðŸ“‹ SECTION 1: Prerequisites & API Enablement[0m
[0;36mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m
[0;34mâ„¹ï¸  Checking gcloud authentication...[0m
[0;32mâœ… gcloud authenticated[0m
[0;34mâ„¹ï¸  Checking application default credentials...[0m
[0;32mâœ… Application default credentials configured[0m
[0;34mâ„¹ï¸  Validating configuration...[0m
[0;32mâœ… Configuration validated[0m
[0;34mâ„¹ï¸  Checking secrets file...[0m
[0;32mâœ… Secrets loaded[0m
[0;34mâ„¹ï¸  Setting project context...[0m
[0;32mâœ… Project set to adk-rag-hdtest6[0m
[0;34mâ„¹ï¸  Image tags configured: 9cac639[0m
[0;34mâ„¹ï¸  Enabling required Google Cloud APIs...[0m
  âœ“ run.googleapis.com already enabled
  âœ“ artifactregistry.googleapis.com already enabled
  âœ“ cloudbuild.googleapis.com already enabled
  âœ“ compute.googleapis.com already enabled
  âœ“ iap.googleapis.com already enabled
  âœ“ dns.googleapis.com already enabled
  âœ“ iam.googleapis.com already enabled
  âœ“ cloudresourcemanager.googleapis.com already enabled
  âœ“ cloudidentity.googleapis.com already enabled
  âœ“ aiplatform.googleapis.com already enabled
  âœ“ storage.googleapis.com already enabled
  âœ“ bigquery.googleapis.com already enabled
[0;32mâœ… All required APIs enabled[0m

[0;36mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m
[0;36mðŸ“‹ SECTION 2: Infrastructure Setup[0m
[0;36mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m
[0;34mâ„¹ï¸  Setting up Artifact Registry...[0m
[0;32mâœ… Artifact Registry already exists[0m
[0;34mâ„¹ï¸  Creating service accounts...[0m
  âœ“ Backend service account exists
  âœ“ Frontend service account exists
  âœ“ RAG Agent service account exists
  âœ“ IAP Accessor service account exists
[0;34mâ„¹ï¸  Configuring IAM permissions...[0m
  Granting Vertex AI permissions to RAG Agent SA...
bindings:
- members:
  - serviceAccount:adk-rag-agent-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/aiplatform.admin
- members:
  - serviceAccount:service-965537996595@gcp-sa-vertex-rag.iam.gserviceaccount.com
  role: roles/aiplatform.ragServiceAgent
- members:
  - serviceAccount:service-965537996595@gcp-sa-aiplatform.iam.gserviceaccount.com
  role: roles/aiplatform.serviceAgent
- members:
  - serviceAccount:backend-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/aiplatform.user
- members:
  - serviceAccount:service-965537996595@gcp-sa-artifactregistry.iam.gserviceaccount.com
  role: roles/artifactregistry.serviceAgent
- members:
  - serviceAccount:adk-rag-agent-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/bigquery.admin
- members:
  - serviceAccount:965537996595@cloudbuild.gserviceaccount.com
  role: roles/cloudbuild.builds.builder
- members:
  - serviceAccount:service-965537996595@gcp-sa-cloudbuild.iam.gserviceaccount.com
  role: roles/cloudbuild.serviceAgent
- members:
  - serviceAccount:service-965537996595@compute-system.iam.gserviceaccount.com
  role: roles/compute.serviceAgent
- members:
  - serviceAccount:service-965537996595@containerregistry.iam.gserviceaccount.com
  role: roles/containerregistry.ServiceAgent
- members:
  - serviceAccount:965537996595-compute@developer.gserviceaccount.com
  - serviceAccount:965537996595@cloudservices.gserviceaccount.com
  role: roles/editor
- members:
  - domain:develom.com
  - serviceAccount:iap-accessor@adk-rag-hdtest6.iam.gserviceaccount.com
  - user:hector@develom.com
  role: roles/iap.httpsResourceAccessor
- members:
  - user:hector@develom.com
  role: roles/owner
- members:
  - serviceAccount:service-965537996595@gcp-sa-pubsub.iam.gserviceaccount.com
  role: roles/pubsub.serviceAgent
- members:
  - serviceAccount:service-965537996595@serverless-robot-prod.iam.gserviceaccount.com
  role: roles/run.serviceAgent
- members:
  - serviceAccount:adk-rag-agent-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/storage.admin
- members:
  - serviceAccount:backend-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/storage.objectViewer
etag: BwZCUGLdyfQ=
version: 1
bindings:
- members:
  - serviceAccount:adk-rag-agent-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/aiplatform.admin
- members:
  - serviceAccount:service-965537996595@gcp-sa-vertex-rag.iam.gserviceaccount.com
  role: roles/aiplatform.ragServiceAgent
- members:
  - serviceAccount:service-965537996595@gcp-sa-aiplatform.iam.gserviceaccount.com
  role: roles/aiplatform.serviceAgent
- members:
  - serviceAccount:backend-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/aiplatform.user
- members:
  - serviceAccount:service-965537996595@gcp-sa-artifactregistry.iam.gserviceaccount.com
  role: roles/artifactregistry.serviceAgent
- members:
  - serviceAccount:adk-rag-agent-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/bigquery.admin
- members:
  - serviceAccount:965537996595@cloudbuild.gserviceaccount.com
  role: roles/cloudbuild.builds.builder
- members:
  - serviceAccount:service-965537996595@gcp-sa-cloudbuild.iam.gserviceaccount.com
  role: roles/cloudbuild.serviceAgent
- members:
  - serviceAccount:service-965537996595@compute-system.iam.gserviceaccount.com
  role: roles/compute.serviceAgent
- members:
  - serviceAccount:service-965537996595@containerregistry.iam.gserviceaccount.com
  role: roles/containerregistry.ServiceAgent
- members:
  - serviceAccount:965537996595-compute@developer.gserviceaccount.com
  - serviceAccount:965537996595@cloudservices.gserviceaccount.com
  role: roles/editor
- members:
  - domain:develom.com
  - serviceAccount:iap-accessor@adk-rag-hdtest6.iam.gserviceaccount.com
  - user:hector@develom.com
  role: roles/iap.httpsResourceAccessor
- members:
  - user:hector@develom.com
  role: roles/owner
- members:
  - serviceAccount:service-965537996595@gcp-sa-pubsub.iam.gserviceaccount.com
  role: roles/pubsub.serviceAgent
- members:
  - serviceAccount:service-965537996595@serverless-robot-prod.iam.gserviceaccount.com
  role: roles/run.serviceAgent
- members:
  - serviceAccount:adk-rag-agent-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/storage.admin
- members:
  - serviceAccount:backend-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/storage.objectViewer
etag: BwZCUGMEGSk=
version: 1
bindings:
- members:
  - serviceAccount:adk-rag-agent-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/aiplatform.admin
- members:
  - serviceAccount:service-965537996595@gcp-sa-vertex-rag.iam.gserviceaccount.com
  role: roles/aiplatform.ragServiceAgent
- members:
  - serviceAccount:service-965537996595@gcp-sa-aiplatform.iam.gserviceaccount.com
  role: roles/aiplatform.serviceAgent
- members:
  - serviceAccount:backend-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/aiplatform.user
- members:
  - serviceAccount:service-965537996595@gcp-sa-artifactregistry.iam.gserviceaccount.com
  role: roles/artifactregistry.serviceAgent
- members:
  - serviceAccount:adk-rag-agent-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/bigquery.admin
- members:
  - serviceAccount:965537996595@cloudbuild.gserviceaccount.com
  role: roles/cloudbuild.builds.builder
- members:
  - serviceAccount:service-965537996595@gcp-sa-cloudbuild.iam.gserviceaccount.com
  role: roles/cloudbuild.serviceAgent
- members:
  - serviceAccount:service-965537996595@compute-system.iam.gserviceaccount.com
  role: roles/compute.serviceAgent
- members:
  - serviceAccount:service-965537996595@containerregistry.iam.gserviceaccount.com
  role: roles/containerregistry.ServiceAgent
- members:
  - serviceAccount:965537996595-compute@developer.gserviceaccount.com
  - serviceAccount:965537996595@cloudservices.gserviceaccount.com
  role: roles/editor
- members:
  - domain:develom.com
  - serviceAccount:iap-accessor@adk-rag-hdtest6.iam.gserviceaccount.com
  - user:hector@develom.com
  role: roles/iap.httpsResourceAccessor
- members:
  - user:hector@develom.com
  role: roles/owner
- members:
  - serviceAccount:service-965537996595@gcp-sa-pubsub.iam.gserviceaccount.com
  role: roles/pubsub.serviceAgent
- members:
  - serviceAccount:service-965537996595@serverless-robot-prod.iam.gserviceaccount.com
  role: roles/run.serviceAgent
- members:
  - serviceAccount:adk-rag-agent-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/storage.admin
- members:
  - serviceAccount:backend-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/storage.objectViewer
etag: BwZCUGMs36g=
version: 1
  Granting basic permissions to Backend SA...
bindings:
- members:
  - serviceAccount:adk-rag-agent-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/aiplatform.admin
- members:
  - serviceAccount:service-965537996595@gcp-sa-vertex-rag.iam.gserviceaccount.com
  role: roles/aiplatform.ragServiceAgent
- members:
  - serviceAccount:service-965537996595@gcp-sa-aiplatform.iam.gserviceaccount.com
  role: roles/aiplatform.serviceAgent
- members:
  - serviceAccount:backend-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/aiplatform.user
- members:
  - serviceAccount:service-965537996595@gcp-sa-artifactregistry.iam.gserviceaccount.com
  role: roles/artifactregistry.serviceAgent
- members:
  - serviceAccount:adk-rag-agent-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/bigquery.admin
- members:
  - serviceAccount:965537996595@cloudbuild.gserviceaccount.com
  role: roles/cloudbuild.builds.builder
- members:
  - serviceAccount:service-965537996595@gcp-sa-cloudbuild.iam.gserviceaccount.com
  role: roles/cloudbuild.serviceAgent
- members:
  - serviceAccount:service-965537996595@compute-system.iam.gserviceaccount.com
  role: roles/compute.serviceAgent
- members:
  - serviceAccount:service-965537996595@containerregistry.iam.gserviceaccount.com
  role: roles/containerregistry.ServiceAgent
- members:
  - serviceAccount:965537996595-compute@developer.gserviceaccount.com
  - serviceAccount:965537996595@cloudservices.gserviceaccount.com
  role: roles/editor
- members:
  - domain:develom.com
  - serviceAccount:iap-accessor@adk-rag-hdtest6.iam.gserviceaccount.com
  - user:hector@develom.com
  role: roles/iap.httpsResourceAccessor
- members:
  - user:hector@develom.com
  role: roles/owner
- members:
  - serviceAccount:service-965537996595@gcp-sa-pubsub.iam.gserviceaccount.com
  role: roles/pubsub.serviceAgent
- members:
  - serviceAccount:service-965537996595@serverless-robot-prod.iam.gserviceaccount.com
  role: roles/run.serviceAgent
- members:
  - serviceAccount:adk-rag-agent-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/storage.admin
- members:
  - serviceAccount:backend-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/storage.objectViewer
etag: BwZCUGNV4tE=
version: 1
bindings:
- members:
  - serviceAccount:adk-rag-agent-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/aiplatform.admin
- members:
  - serviceAccount:service-965537996595@gcp-sa-vertex-rag.iam.gserviceaccount.com
  role: roles/aiplatform.ragServiceAgent
- members:
  - serviceAccount:service-965537996595@gcp-sa-aiplatform.iam.gserviceaccount.com
  role: roles/aiplatform.serviceAgent
- members:
  - serviceAccount:backend-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/aiplatform.user
- members:
  - serviceAccount:service-965537996595@gcp-sa-artifactregistry.iam.gserviceaccount.com
  role: roles/artifactregistry.serviceAgent
- members:
  - serviceAccount:adk-rag-agent-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/bigquery.admin
- members:
  - serviceAccount:965537996595@cloudbuild.gserviceaccount.com
  role: roles/cloudbuild.builds.builder
- members:
  - serviceAccount:service-965537996595@gcp-sa-cloudbuild.iam.gserviceaccount.com
  role: roles/cloudbuild.serviceAgent
- members:
  - serviceAccount:service-965537996595@compute-system.iam.gserviceaccount.com
  role: roles/compute.serviceAgent
- members:
  - serviceAccount:service-965537996595@containerregistry.iam.gserviceaccount.com
  role: roles/containerregistry.ServiceAgent
- members:
  - serviceAccount:965537996595-compute@developer.gserviceaccount.com
  - serviceAccount:965537996595@cloudservices.gserviceaccount.com
  role: roles/editor
- members:
  - domain:develom.com
  - serviceAccount:iap-accessor@adk-rag-hdtest6.iam.gserviceaccount.com
  - user:hector@develom.com
  role: roles/iap.httpsResourceAccessor
- members:
  - user:hector@develom.com
  role: roles/owner
- members:
  - serviceAccount:service-965537996595@gcp-sa-pubsub.iam.gserviceaccount.com
  role: roles/pubsub.serviceAgent
- members:
  - serviceAccount:service-965537996595@serverless-robot-prod.iam.gserviceaccount.com
  role: roles/run.serviceAgent
- members:
  - serviceAccount:adk-rag-agent-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/storage.admin
- members:
  - serviceAccount:backend-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/storage.objectViewer
etag: BwZCUGN_y5A=
version: 1
  Granting IAP permissions to IAP Accessor SA...
bindings:
- members:
  - serviceAccount:adk-rag-agent-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/aiplatform.admin
- members:
  - serviceAccount:service-965537996595@gcp-sa-vertex-rag.iam.gserviceaccount.com
  role: roles/aiplatform.ragServiceAgent
- members:
  - serviceAccount:service-965537996595@gcp-sa-aiplatform.iam.gserviceaccount.com
  role: roles/aiplatform.serviceAgent
- members:
  - serviceAccount:backend-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/aiplatform.user
- members:
  - serviceAccount:service-965537996595@gcp-sa-artifactregistry.iam.gserviceaccount.com
  role: roles/artifactregistry.serviceAgent
- members:
  - serviceAccount:adk-rag-agent-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/bigquery.admin
- members:
  - serviceAccount:965537996595@cloudbuild.gserviceaccount.com
  role: roles/cloudbuild.builds.builder
- members:
  - serviceAccount:service-965537996595@gcp-sa-cloudbuild.iam.gserviceaccount.com
  role: roles/cloudbuild.serviceAgent
- members:
  - serviceAccount:service-965537996595@compute-system.iam.gserviceaccount.com
  role: roles/compute.serviceAgent
- members:
  - serviceAccount:service-965537996595@containerregistry.iam.gserviceaccount.com
  role: roles/containerregistry.ServiceAgent
- members:
  - serviceAccount:965537996595-compute@developer.gserviceaccount.com
  - serviceAccount:965537996595@cloudservices.gserviceaccount.com
  role: roles/editor
- members:
  - domain:develom.com
  - serviceAccount:iap-accessor@adk-rag-hdtest6.iam.gserviceaccount.com
  - user:hector@develom.com
  role: roles/iap.httpsResourceAccessor
- members:
  - user:hector@develom.com
  role: roles/owner
- members:
  - serviceAccount:service-965537996595@gcp-sa-pubsub.iam.gserviceaccount.com
  role: roles/pubsub.serviceAgent
- members:
  - serviceAccount:service-965537996595@serverless-robot-prod.iam.gserviceaccount.com
  role: roles/run.serviceAgent
- members:
  - serviceAccount:adk-rag-agent-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/storage.admin
- members:
  - serviceAccount:backend-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/storage.objectViewer
etag: BwZCUGOro1o=
version: 1
[0;32mâœ… IAM permissions configured[0m

[0;36mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m
[0;36mðŸ“‹ SECTION 3: Cloud Run Deployment[0m
[0;36mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m
[0;34mâ„¹ï¸  Building backend container image...[0m
-------------------------------------------------------------------------- REMOTE BUILD OUTPUT --------------------------------------------------------------------------
starting build "abab0f3a-f380-4193-ae0d-ff4610530cf3"

FETCHSOURCE
Fetching storage object: gs://adk-rag-hdtest6_cloudbuild/source/1761762899.53971-dc10d535ebd34103ac7a0182212e5474.tgz#1761762900430432
Copying gs://adk-rag-hdtest6_cloudbuild/source/1761762899.53971-dc10d535ebd34103ac7a0182212e5474.tgz#1761762900430432...
/ [0 files][    0.0 B/ 51.8 KiB]                                                / [1 files][ 51.8 KiB/ 51.8 KiB]                                                
Operation completed over 1 objects/51.8 KiB.
BUILD
Already have image (with digest): gcr.io/cloud-builders/docker
Sending build context to Docker daemon  251.4kB
Step 1/22 : FROM python:3.11-slim
3.11-slim: Pulling from library/python
38513bd72563: Pulling fs layer
a9ffe18d7fdb: Pulling fs layer
e73850a50582: Pulling fs layer
19fb8589da02: Pulling fs layer
19fb8589da02: Waiting
a9ffe18d7fdb: Verifying Checksum
a9ffe18d7fdb: Download complete
e73850a50582: Verifying Checksum
e73850a50582: Download complete
38513bd72563: Verifying Checksum
38513bd72563: Download complete
19fb8589da02: Verifying Checksum
19fb8589da02: Download complete
38513bd72563: Pull complete
a9ffe18d7fdb: Pull complete
e73850a50582: Pull complete
19fb8589da02: Pull complete
Digest: sha256:8eb5fc663972b871c528fef04be4eaa9ab8ab4539a5316c4b8c133771214a617
Status: Downloaded newer image for python:3.11-slim
 ---> ff15e80be861
Step 2/22 : WORKDIR /app
 ---> Running in f88d43546552
Removing intermediate container f88d43546552
 ---> 2e5e519bf09f
Step 3/22 : RUN apt-get update && apt-get install -y     gcc     g++     && rm -rf /var/lib/apt/lists/*
 ---> Running in 17527512b39c
Hit:1 http://deb.debian.org/debian trixie InRelease
Get:2 http://deb.debian.org/debian trixie-updates InRelease [47.3 kB]
Get:3 http://deb.debian.org/debian-security trixie-security InRelease [43.4 kB]
Get:4 http://deb.debian.org/debian trixie/main amd64 Packages [9669 kB]
Get:5 http://deb.debian.org/debian trixie-updates/main amd64 Packages [5412 B]
Get:6 http://deb.debian.org/debian-security trixie-security/main amd64 Packages [67.8 kB]
Fetched 9833 kB in 2s (5622 kB/s)
Reading package lists...
Reading package lists...
Building dependency tree...
Reading state information...
The following additional packages will be installed:
  binutils binutils-common binutils-x86-64-linux-gnu cpp cpp-14
  cpp-14-x86-64-linux-gnu cpp-x86-64-linux-gnu g++-14 g++-14-x86-64-linux-gnu
  g++-x86-64-linux-gnu gcc-14 gcc-14-x86-64-linux-gnu gcc-x86-64-linux-gnu
  libasan8 libatomic1 libbinutils libc-dev-bin libc6-dev libcc1-0 libcrypt-dev
  libctf-nobfd0 libctf0 libgcc-14-dev libgomp1 libgprofng0 libhwasan0 libisl23
  libitm1 libjansson4 liblsan0 libmpc3 libmpfr6 libquadmath0 libsframe1
  libstdc++-14-dev libtsan2 libubsan1 linux-libc-dev manpages manpages-dev
  rpcsvc-proto
Suggested packages:
  binutils-doc gprofng-gui binutils-gold cpp-doc gcc-14-locales cpp-14-doc
  g++-multilib g++-14-multilib gcc-14-doc gcc-multilib make autoconf automake
  libtool flex bison gdb gcc-doc gcc-14-multilib gdb-x86-64-linux-gnu
  libc-devtools glibc-doc libstdc++-14-doc man-browser
The following NEW packages will be installed:
  binutils binutils-common binutils-x86-64-linux-gnu cpp cpp-14
  cpp-14-x86-64-linux-gnu cpp-x86-64-linux-gnu g++ g++-14
  g++-14-x86-64-linux-gnu g++-x86-64-linux-gnu gcc gcc-14
  gcc-14-x86-64-linux-gnu gcc-x86-64-linux-gnu libasan8 libatomic1 libbinutils
  libc-dev-bin libc6-dev libcc1-0 libcrypt-dev libctf-nobfd0 libctf0
  libgcc-14-dev libgomp1 libgprofng0 libhwasan0 libisl23 libitm1 libjansson4
  liblsan0 libmpc3 libmpfr6 libquadmath0 libsframe1 libstdc++-14-dev libtsan2
  libubsan1 linux-libc-dev manpages manpages-dev rpcsvc-proto
0 upgraded, 43 newly installed, 0 to remove and 0 not upgraded.
Need to get 74.8 MB of archives.
After this operation, 283 MB of additional disk space will be used.
Get:1 http://deb.debian.org/debian trixie/main amd64 manpages all 6.9.1-1 [1393 kB]
Get:2 http://deb.debian.org/debian trixie/main amd64 libsframe1 amd64 2.44-3 [78.4 kB]
Get:3 http://deb.debian.org/debian trixie/main amd64 binutils-common amd64 2.44-3 [2509 kB]
Get:4 http://deb.debian.org/debian trixie/main amd64 libbinutils amd64 2.44-3 [534 kB]
Get:5 http://deb.debian.org/debian trixie/main amd64 libgprofng0 amd64 2.44-3 [808 kB]
Get:6 http://deb.debian.org/debian trixie/main amd64 libctf-nobfd0 amd64 2.44-3 [156 kB]
Get:7 http://deb.debian.org/debian trixie/main amd64 libctf0 amd64 2.44-3 [88.6 kB]
Get:8 http://deb.debian.org/debian trixie/main amd64 libjansson4 amd64 2.14-2+b3 [39.8 kB]
Get:9 http://deb.debian.org/debian trixie/main amd64 binutils-x86-64-linux-gnu amd64 2.44-3 [1014 kB]
Get:10 http://deb.debian.org/debian trixie/main amd64 binutils amd64 2.44-3 [265 kB]
Get:11 http://deb.debian.org/debian trixie/main amd64 libisl23 amd64 0.27-1 [659 kB]
Get:12 http://deb.debian.org/debian trixie/main amd64 libmpfr6 amd64 4.2.2-1 [729 kB]
Get:13 http://deb.debian.org/debian trixie/main amd64 libmpc3 amd64 1.3.1-1+b3 [52.2 kB]
Get:14 http://deb.debian.org/debian trixie/main amd64 cpp-14-x86-64-linux-gnu amd64 14.2.0-19 [11.0 MB]
Get:15 http://deb.debian.org/debian trixie/main amd64 cpp-14 amd64 14.2.0-19 [1280 B]
Get:16 http://deb.debian.org/debian trixie/main amd64 cpp-x86-64-linux-gnu amd64 4:14.2.0-1 [4840 B]
Get:17 http://deb.debian.org/debian trixie/main amd64 cpp amd64 4:14.2.0-1 [1568 B]
Get:18 http://deb.debian.org/debian trixie/main amd64 libcc1-0 amd64 14.2.0-19 [42.8 kB]
Get:19 http://deb.debian.org/debian trixie/main amd64 libgomp1 amd64 14.2.0-19 [137 kB]
Get:20 http://deb.debian.org/debian trixie/main amd64 libitm1 amd64 14.2.0-19 [26.0 kB]
Get:21 http://deb.debian.org/debian trixie/main amd64 libatomic1 amd64 14.2.0-19 [9308 B]
Get:22 http://deb.debian.org/debian trixie/main amd64 libasan8 amd64 14.2.0-19 [2725 kB]
Get:23 http://deb.debian.org/debian trixie/main amd64 liblsan0 amd64 14.2.0-19 [1204 kB]
Get:24 http://deb.debian.org/debian trixie/main amd64 libtsan2 amd64 14.2.0-19 [2460 kB]
Get:25 http://deb.debian.org/debian trixie/main amd64 libubsan1 amd64 14.2.0-19 [1074 kB]
Get:26 http://deb.debian.org/debian trixie/main amd64 libhwasan0 amd64 14.2.0-19 [1488 kB]
Get:27 http://deb.debian.org/debian trixie/main amd64 libquadmath0 amd64 14.2.0-19 [145 kB]
Get:28 http://deb.debian.org/debian trixie/main amd64 libgcc-14-dev amd64 14.2.0-19 [2672 kB]
Get:29 http://deb.debian.org/debian trixie/main amd64 gcc-14-x86-64-linux-gnu amd64 14.2.0-19 [21.4 MB]
Get:30 http://deb.debian.org/debian trixie/main amd64 gcc-14 amd64 14.2.0-19 [540 kB]
Get:31 http://deb.debian.org/debian trixie/main amd64 gcc-x86-64-linux-gnu amd64 4:14.2.0-1 [1436 B]
Get:32 http://deb.debian.org/debian trixie/main amd64 gcc amd64 4:14.2.0-1 [5136 B]
Get:33 http://deb.debian.org/debian trixie/main amd64 libc-dev-bin amd64 2.41-12 [58.2 kB]
Get:34 http://deb.debian.org/debian-security trixie-security/main amd64 linux-libc-dev all 6.12.48-1 [2671 kB]
Get:35 http://deb.debian.org/debian trixie/main amd64 libcrypt-dev amd64 1:4.4.38-1 [119 kB]
Get:36 http://deb.debian.org/debian trixie/main amd64 rpcsvc-proto amd64 1.4.3-1 [63.3 kB]
Get:37 http://deb.debian.org/debian trixie/main amd64 libc6-dev amd64 2.41-12 [1991 kB]
Get:38 http://deb.debian.org/debian trixie/main amd64 libstdc++-14-dev amd64 14.2.0-19 [2376 kB]
Get:39 http://deb.debian.org/debian trixie/main amd64 g++-14-x86-64-linux-gnu amd64 14.2.0-19 [12.1 MB]
Get:40 http://deb.debian.org/debian trixie/main amd64 g++-14 amd64 14.2.0-19 [22.5 kB]
Get:41 http://deb.debian.org/debian trixie/main amd64 g++-x86-64-linux-gnu amd64 4:14.2.0-1 [1200 B]
Get:42 http://deb.debian.org/debian trixie/main amd64 g++ amd64 4:14.2.0-1 [1344 B]
Get:43 http://deb.debian.org/debian trixie/main amd64 manpages-dev all 6.9.1-1 [2122 kB]
[91mdebconf: unable to initialize frontend: Dialog
debconf: (TERM is not set, so the dialog frontend is not usable.)
debconf: falling back to frontend: Readline
[0m[91mdebconf: unable to initialize frontend: Readline
debconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC entries checked: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.40.1 /usr/local/share/perl/5.40.1 /usr/lib/x86_64-linux-gnu/perl5/5.40 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.40 /usr/share/perl/5.40 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 8, <STDIN> line 43.)
debconf: falling back to frontend: Teletype
[0m[91mdebconf: unable to initialize frontend: Teletype
debconf: (This frontend requires a controlling tty.)
debconf: falling back to frontend: Noninteractive
[0mFetched 74.8 MB in 1s (110 MB/s)
Selecting previously unselected package manpages.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 5644 files and directories currently installed.)
Preparing to unpack .../00-manpages_6.9.1-1_all.deb ...
Unpacking manpages (6.9.1-1) ...
Selecting previously unselected package libsframe1:amd64.
Preparing to unpack .../01-libsframe1_2.44-3_amd64.deb ...
Unpacking libsframe1:amd64 (2.44-3) ...
Selecting previously unselected package binutils-common:amd64.
Preparing to unpack .../02-binutils-common_2.44-3_amd64.deb ...
Unpacking binutils-common:amd64 (2.44-3) ...
Selecting previously unselected package libbinutils:amd64.
Preparing to unpack .../03-libbinutils_2.44-3_amd64.deb ...
Unpacking libbinutils:amd64 (2.44-3) ...
Selecting previously unselected package libgprofng0:amd64.
Preparing to unpack .../04-libgprofng0_2.44-3_amd64.deb ...
Unpacking libgprofng0:amd64 (2.44-3) ...
Selecting previously unselected package libctf-nobfd0:amd64.
Preparing to unpack .../05-libctf-nobfd0_2.44-3_amd64.deb ...
Unpacking libctf-nobfd0:amd64 (2.44-3) ...
Selecting previously unselected package libctf0:amd64.
Preparing to unpack .../06-libctf0_2.44-3_amd64.deb ...
Unpacking libctf0:amd64 (2.44-3) ...
Selecting previously unselected package libjansson4:amd64.
Preparing to unpack .../07-libjansson4_2.14-2+b3_amd64.deb ...
Unpacking libjansson4:amd64 (2.14-2+b3) ...
Selecting previously unselected package binutils-x86-64-linux-gnu.
Preparing to unpack .../08-binutils-x86-64-linux-gnu_2.44-3_amd64.deb ...
Unpacking binutils-x86-64-linux-gnu (2.44-3) ...
Selecting previously unselected package binutils.
Preparing to unpack .../09-binutils_2.44-3_amd64.deb ...
Unpacking binutils (2.44-3) ...
Selecting previously unselected package libisl23:amd64.
Preparing to unpack .../10-libisl23_0.27-1_amd64.deb ...
Unpacking libisl23:amd64 (0.27-1) ...
Selecting previously unselected package libmpfr6:amd64.
Preparing to unpack .../11-libmpfr6_4.2.2-1_amd64.deb ...
Unpacking libmpfr6:amd64 (4.2.2-1) ...
Selecting previously unselected package libmpc3:amd64.
Preparing to unpack .../12-libmpc3_1.3.1-1+b3_amd64.deb ...
Unpacking libmpc3:amd64 (1.3.1-1+b3) ...
Selecting previously unselected package cpp-14-x86-64-linux-gnu.
Preparing to unpack .../13-cpp-14-x86-64-linux-gnu_14.2.0-19_amd64.deb ...
Unpacking cpp-14-x86-64-linux-gnu (14.2.0-19) ...
Selecting previously unselected package cpp-14.
Preparing to unpack .../14-cpp-14_14.2.0-19_amd64.deb ...
Unpacking cpp-14 (14.2.0-19) ...
Selecting previously unselected package cpp-x86-64-linux-gnu.
Preparing to unpack .../15-cpp-x86-64-linux-gnu_4%3a14.2.0-1_amd64.deb ...
Unpacking cpp-x86-64-linux-gnu (4:14.2.0-1) ...
Selecting previously unselected package cpp.
Preparing to unpack .../16-cpp_4%3a14.2.0-1_amd64.deb ...
Unpacking cpp (4:14.2.0-1) ...
Selecting previously unselected package libcc1-0:amd64.
Preparing to unpack .../17-libcc1-0_14.2.0-19_amd64.deb ...
Unpacking libcc1-0:amd64 (14.2.0-19) ...
Selecting previously unselected package libgomp1:amd64.
Preparing to unpack .../18-libgomp1_14.2.0-19_amd64.deb ...
Unpacking libgomp1:amd64 (14.2.0-19) ...
Selecting previously unselected package libitm1:amd64.
Preparing to unpack .../19-libitm1_14.2.0-19_amd64.deb ...
Unpacking libitm1:amd64 (14.2.0-19) ...
Selecting previously unselected package libatomic1:amd64.
Preparing to unpack .../20-libatomic1_14.2.0-19_amd64.deb ...
Unpacking libatomic1:amd64 (14.2.0-19) ...
Selecting previously unselected package libasan8:amd64.
Preparing to unpack .../21-libasan8_14.2.0-19_amd64.deb ...
Unpacking libasan8:amd64 (14.2.0-19) ...
Selecting previously unselected package liblsan0:amd64.
Preparing to unpack .../22-liblsan0_14.2.0-19_amd64.deb ...
Unpacking liblsan0:amd64 (14.2.0-19) ...
Selecting previously unselected package libtsan2:amd64.
Preparing to unpack .../23-libtsan2_14.2.0-19_amd64.deb ...
Unpacking libtsan2:amd64 (14.2.0-19) ...
Selecting previously unselected package libubsan1:amd64.
Preparing to unpack .../24-libubsan1_14.2.0-19_amd64.deb ...
Unpacking libubsan1:amd64 (14.2.0-19) ...
Selecting previously unselected package libhwasan0:amd64.
Preparing to unpack .../25-libhwasan0_14.2.0-19_amd64.deb ...
Unpacking libhwasan0:amd64 (14.2.0-19) ...
Selecting previously unselected package libquadmath0:amd64.
Preparing to unpack .../26-libquadmath0_14.2.0-19_amd64.deb ...
Unpacking libquadmath0:amd64 (14.2.0-19) ...
Selecting previously unselected package libgcc-14-dev:amd64.
Preparing to unpack .../27-libgcc-14-dev_14.2.0-19_amd64.deb ...
Unpacking libgcc-14-dev:amd64 (14.2.0-19) ...
Selecting previously unselected package gcc-14-x86-64-linux-gnu.
Preparing to unpack .../28-gcc-14-x86-64-linux-gnu_14.2.0-19_amd64.deb ...
Unpacking gcc-14-x86-64-linux-gnu (14.2.0-19) ...
Selecting previously unselected package gcc-14.
Preparing to unpack .../29-gcc-14_14.2.0-19_amd64.deb ...
Unpacking gcc-14 (14.2.0-19) ...
Selecting previously unselected package gcc-x86-64-linux-gnu.
Preparing to unpack .../30-gcc-x86-64-linux-gnu_4%3a14.2.0-1_amd64.deb ...
Unpacking gcc-x86-64-linux-gnu (4:14.2.0-1) ...
Selecting previously unselected package gcc.
Preparing to unpack .../31-gcc_4%3a14.2.0-1_amd64.deb ...
Unpacking gcc (4:14.2.0-1) ...
Selecting previously unselected package libc-dev-bin.
Preparing to unpack .../32-libc-dev-bin_2.41-12_amd64.deb ...
Unpacking libc-dev-bin (2.41-12) ...
Selecting previously unselected package linux-libc-dev.
Preparing to unpack .../33-linux-libc-dev_6.12.48-1_all.deb ...
Unpacking linux-libc-dev (6.12.48-1) ...
Selecting previously unselected package libcrypt-dev:amd64.
Preparing to unpack .../34-libcrypt-dev_1%3a4.4.38-1_amd64.deb ...
Unpacking libcrypt-dev:amd64 (1:4.4.38-1) ...
Selecting previously unselected package rpcsvc-proto.
Preparing to unpack .../35-rpcsvc-proto_1.4.3-1_amd64.deb ...
Unpacking rpcsvc-proto (1.4.3-1) ...
Selecting previously unselected package libc6-dev:amd64.
Preparing to unpack .../36-libc6-dev_2.41-12_amd64.deb ...
Unpacking libc6-dev:amd64 (2.41-12) ...
Selecting previously unselected package libstdc++-14-dev:amd64.
Preparing to unpack .../37-libstdc++-14-dev_14.2.0-19_amd64.deb ...
Unpacking libstdc++-14-dev:amd64 (14.2.0-19) ...
Selecting previously unselected package g++-14-x86-64-linux-gnu.
Preparing to unpack .../38-g++-14-x86-64-linux-gnu_14.2.0-19_amd64.deb ...
Unpacking g++-14-x86-64-linux-gnu (14.2.0-19) ...
Selecting previously unselected package g++-14.
Preparing to unpack .../39-g++-14_14.2.0-19_amd64.deb ...
Unpacking g++-14 (14.2.0-19) ...
Selecting previously unselected package g++-x86-64-linux-gnu.
Preparing to unpack .../40-g++-x86-64-linux-gnu_4%3a14.2.0-1_amd64.deb ...
Unpacking g++-x86-64-linux-gnu (4:14.2.0-1) ...
Selecting previously unselected package g++.
Preparing to unpack .../41-g++_4%3a14.2.0-1_amd64.deb ...
Unpacking g++ (4:14.2.0-1) ...
Selecting previously unselected package manpages-dev.
Preparing to unpack .../42-manpages-dev_6.9.1-1_all.deb ...
Unpacking manpages-dev (6.9.1-1) ...
Setting up manpages (6.9.1-1) ...
Setting up binutils-common:amd64 (2.44-3) ...
Setting up linux-libc-dev (6.12.48-1) ...
Setting up libctf-nobfd0:amd64 (2.44-3) ...
Setting up libgomp1:amd64 (14.2.0-19) ...
Setting up libsframe1:amd64 (2.44-3) ...
Setting up libjansson4:amd64 (2.14-2+b3) ...
Setting up rpcsvc-proto (1.4.3-1) ...
Setting up libmpfr6:amd64 (4.2.2-1) ...
Setting up libquadmath0:amd64 (14.2.0-19) ...
Setting up libmpc3:amd64 (1.3.1-1+b3) ...
Setting up libatomic1:amd64 (14.2.0-19) ...
Setting up libubsan1:amd64 (14.2.0-19) ...
Setting up libhwasan0:amd64 (14.2.0-19) ...
Setting up libcrypt-dev:amd64 (1:4.4.38-1) ...
Setting up libasan8:amd64 (14.2.0-19) ...
Setting up libtsan2:amd64 (14.2.0-19) ...
Setting up libbinutils:amd64 (2.44-3) ...
Setting up libisl23:amd64 (0.27-1) ...
Setting up libc-dev-bin (2.41-12) ...
Setting up libcc1-0:amd64 (14.2.0-19) ...
Setting up liblsan0:amd64 (14.2.0-19) ...
Setting up libitm1:amd64 (14.2.0-19) ...
Setting up libctf0:amd64 (2.44-3) ...
Setting up manpages-dev (6.9.1-1) ...
Setting up libgprofng0:amd64 (2.44-3) ...
Setting up cpp-14-x86-64-linux-gnu (14.2.0-19) ...
Setting up cpp-14 (14.2.0-19) ...
Setting up libc6-dev:amd64 (2.41-12) ...
Setting up libgcc-14-dev:amd64 (14.2.0-19) ...
Setting up libstdc++-14-dev:amd64 (14.2.0-19) ...
Setting up binutils-x86-64-linux-gnu (2.44-3) ...
Setting up cpp-x86-64-linux-gnu (4:14.2.0-1) ...
Setting up binutils (2.44-3) ...
Setting up cpp (4:14.2.0-1) ...
Setting up gcc-14-x86-64-linux-gnu (14.2.0-19) ...
Setting up gcc-x86-64-linux-gnu (4:14.2.0-1) ...
Setting up gcc-14 (14.2.0-19) ...
Setting up g++-14-x86-64-linux-gnu (14.2.0-19) ...
Setting up g++-x86-64-linux-gnu (4:14.2.0-1) ...
Setting up g++-14 (14.2.0-19) ...
Setting up gcc (4:14.2.0-1) ...
Setting up g++ (4:14.2.0-1) ...
update-alternatives: using /usr/bin/g++ to provide /usr/bin/c++ (c++) in auto mode
Processing triggers for libc-bin (2.41-12) ...
Removing intermediate container 17527512b39c
 ---> 7291ccd79f0f
Step 4/22 : COPY requirements.txt .
 ---> 9e02f7ff998b
Step 5/22 : RUN pip install --upgrade pip
 ---> Running in 4ac940e1659c
Requirement already satisfied: pip in /usr/local/lib/python3.11/site-packages (24.0)
Collecting pip
  Downloading pip-25.3-py3-none-any.whl.metadata (4.7 kB)
Downloading pip-25.3-py3-none-any.whl (1.8 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1.8/1.8 MB 31.4 MB/s eta 0:00:00
Installing collected packages: pip
  Attempting uninstall: pip
    Found existing installation: pip 24.0
    Uninstalling pip-24.0:
      Successfully uninstalled pip-24.0
Successfully installed pip-25.3
[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
[0mRemoving intermediate container 4ac940e1659c
 ---> 12a1ddc2ab86
Step 6/22 : RUN pip install --no-cache-dir -r requirements.txt
 ---> Running in f00733784811
Collecting google-cloud-aiplatform==1.92.0 (from -r requirements.txt (line 1))
  Downloading google_cloud_aiplatform-1.92.0-py2.py3-none-any.whl.metadata (35 kB)
Collecting uvicorn==0.34.0 (from -r requirements.txt (line 2))
  Downloading uvicorn-0.34.0-py3-none-any.whl.metadata (6.5 kB)
Collecting PyMuPDF==1.24.1.0 (from -r requirements.txt (line 3))
  Downloading PyMuPDF-1.24.1-cp311-none-manylinux2014_x86_64.whl.metadata (3.4 kB)
Collecting google-cloud-storage==2.19.0 (from -r requirements.txt (line 4))
  Downloading google_cloud_storage-2.19.0-py2.py3-none-any.whl.metadata (9.1 kB)
Collecting google-genai==1.14.0 (from -r requirements.txt (line 5))
  Downloading google_genai-1.14.0-py3-none-any.whl.metadata (33 kB)
Collecting gitpython==3.1.40 (from -r requirements.txt (line 6))
  Downloading GitPython-3.1.40-py3-none-any.whl.metadata (12 kB)
Collecting google-adk==0.5.0 (from -r requirements.txt (line 7))
  Downloading google_adk-0.5.0-py3-none-any.whl.metadata (9.7 kB)
Collecting deprecated (from -r requirements.txt (line 8))
  Downloading deprecated-1.3.0-py2.py3-none-any.whl.metadata (5.9 kB)
Collecting fastapi==0.115.0 (from -r requirements.txt (line 9))
  Downloading fastapi-0.115.0-py3-none-any.whl.metadata (27 kB)
Collecting python-multipart==0.0.12 (from -r requirements.txt (line 10))
  Downloading python_multipart-0.0.12-py3-none-any.whl.metadata (1.9 kB)
Collecting pydantic==2.9.0 (from -r requirements.txt (line 11))
  Downloading pydantic-2.9.0-py3-none-any.whl.metadata (146 kB)
Collecting passlib==1.7.4 (from passlib[bcrypt]==1.7.4->-r requirements.txt (line 12))
  Downloading passlib-1.7.4-py2.py3-none-any.whl.metadata (1.7 kB)
Collecting bcrypt==4.0.1 (from -r requirements.txt (line 13))
  Downloading bcrypt-4.0.1-cp36-abi3-manylinux_2_28_x86_64.whl.metadata (9.0 kB)
Collecting python-jose==3.3.0 (from python-jose[cryptography]==3.3.0->-r requirements.txt (line 14))
  Downloading python_jose-3.3.0-py2.py3-none-any.whl.metadata (5.4 kB)
Collecting pytest==7.4.3 (from -r requirements.txt (line 17))
  Downloading pytest-7.4.3-py3-none-any.whl.metadata (7.9 kB)
Collecting pytest-asyncio==0.21.1 (from -r requirements.txt (line 18))
  Downloading pytest_asyncio-0.21.1-py3-none-any.whl.metadata (4.0 kB)
Collecting pytest-mock==3.12.0 (from -r requirements.txt (line 19))
  Downloading pytest_mock-3.12.0-py3-none-any.whl.metadata (3.8 kB)
Collecting httpx<1.0.0,>=0.28.1 (from -r requirements.txt (line 20))
  Downloading httpx-0.28.1-py3-none-any.whl.metadata (7.1 kB)
Collecting pytest-cov==4.1.0 (from -r requirements.txt (line 21))
  Downloading pytest_cov-4.1.0-py3-none-any.whl.metadata (26 kB)
Collecting google-api-core!=2.0.*,!=2.1.*,!=2.2.*,!=2.3.*,!=2.4.*,!=2.5.*,!=2.6.*,!=2.7.*,<3.0.0,>=1.34.1 (from google-api-core[grpc]!=2.0.*,!=2.1.*,!=2.2.*,!=2.3.*,!=2.4.*,!=2.5.*,!=2.6.*,!=2.7.*,<3.0.0,>=1.34.1->google-cloud-aiplatform==1.92.0->-r requirements.txt (line 1))
  Downloading google_api_core-2.28.1-py3-none-any.whl.metadata (3.3 kB)
Collecting google-auth<3.0.0,>=2.14.1 (from google-cloud-aiplatform==1.92.0->-r requirements.txt (line 1))
  Downloading google_auth-2.42.0-py2.py3-none-any.whl.metadata (6.6 kB)
Collecting proto-plus<2.0.0,>=1.22.3 (from google-cloud-aiplatform==1.92.0->-r requirements.txt (line 1))
  Downloading proto_plus-1.26.1-py3-none-any.whl.metadata (2.2 kB)
Collecting protobuf!=4.21.0,!=4.21.1,!=4.21.2,!=4.21.3,!=4.21.4,!=4.21.5,<7.0.0,>=3.20.2 (from google-cloud-aiplatform==1.92.0->-r requirements.txt (line 1))
  Downloading protobuf-6.33.0-cp39-abi3-manylinux2014_x86_64.whl.metadata (593 bytes)
Collecting packaging>=14.3 (from google-cloud-aiplatform==1.92.0->-r requirements.txt (line 1))
  Downloading packaging-25.0-py3-none-any.whl.metadata (3.3 kB)
Collecting google-cloud-bigquery!=3.20.0,<4.0.0,>=1.15.0 (from google-cloud-aiplatform==1.92.0->-r requirements.txt (line 1))
  Downloading google_cloud_bigquery-3.38.0-py3-none-any.whl.metadata (8.0 kB)
Collecting google-cloud-resource-manager<3.0.0,>=1.3.3 (from google-cloud-aiplatform==1.92.0->-r requirements.txt (line 1))
  Downloading google_cloud_resource_manager-1.15.0-py3-none-any.whl.metadata (9.9 kB)
Collecting shapely<3.0.0 (from google-cloud-aiplatform==1.92.0->-r requirements.txt (line 1))
  Downloading shapely-2.1.2-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (6.8 kB)
Collecting typing-extensions (from google-cloud-aiplatform==1.92.0->-r requirements.txt (line 1))
  Downloading typing_extensions-4.15.0-py3-none-any.whl.metadata (3.3 kB)
Collecting docstring-parser<1 (from google-cloud-aiplatform==1.92.0->-r requirements.txt (line 1))
  Downloading docstring_parser-0.17.0-py3-none-any.whl.metadata (3.5 kB)
Collecting google-cloud-core<3.0dev,>=2.3.0 (from google-cloud-storage==2.19.0->-r requirements.txt (line 4))
  Downloading google_cloud_core-2.4.3-py2.py3-none-any.whl.metadata (2.7 kB)
Collecting google-resumable-media>=2.7.2 (from google-cloud-storage==2.19.0->-r requirements.txt (line 4))
  Downloading google_resumable_media-2.7.2-py2.py3-none-any.whl.metadata (2.2 kB)
Collecting requests<3.0.0dev,>=2.18.0 (from google-cloud-storage==2.19.0->-r requirements.txt (line 4))
  Downloading requests-2.32.5-py3-none-any.whl.metadata (4.9 kB)
Collecting google-crc32c<2.0dev,>=1.0 (from google-cloud-storage==2.19.0->-r requirements.txt (line 4))
  Downloading google_crc32c-1.7.1-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (2.3 kB)
Collecting anyio<5.0.0,>=4.8.0 (from google-genai==1.14.0->-r requirements.txt (line 5))
  Downloading anyio-4.11.0-py3-none-any.whl.metadata (4.1 kB)
Collecting websockets<15.1.0,>=13.0.0 (from google-genai==1.14.0->-r requirements.txt (line 5))
  Downloading websockets-15.0.1-cp311-cp311-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (6.8 kB)
Collecting annotated-types>=0.4.0 (from pydantic==2.9.0->-r requirements.txt (line 11))
  Downloading annotated_types-0.7.0-py3-none-any.whl.metadata (15 kB)
Collecting pydantic-core==2.23.2 (from pydantic==2.9.0->-r requirements.txt (line 11))
  Downloading pydantic_core-2.23.2-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (6.6 kB)
Collecting tzdata (from pydantic==2.9.0->-r requirements.txt (line 11))
  Downloading tzdata-2025.2-py2.py3-none-any.whl.metadata (1.4 kB)
Collecting click>=7.0 (from uvicorn==0.34.0->-r requirements.txt (line 2))
  Downloading click-8.3.0-py3-none-any.whl.metadata (2.6 kB)
Collecting h11>=0.8 (from uvicorn==0.34.0->-r requirements.txt (line 2))
  Downloading h11-0.16.0-py3-none-any.whl.metadata (8.3 kB)
Collecting PyMuPDFb==1.24.1 (from PyMuPDF==1.24.1.0->-r requirements.txt (line 3))
  Downloading PyMuPDFb-1.24.1-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (1.4 kB)
Collecting gitdb<5,>=4.0.1 (from gitpython==3.1.40->-r requirements.txt (line 6))
  Downloading gitdb-4.0.12-py3-none-any.whl.metadata (1.2 kB)
Collecting authlib>=1.5.1 (from google-adk==0.5.0->-r requirements.txt (line 7))
  Downloading authlib-1.6.5-py2.py3-none-any.whl.metadata (9.8 kB)
Collecting google-api-python-client>=2.157.0 (from google-adk==0.5.0->-r requirements.txt (line 7))
  Downloading google_api_python_client-2.185.0-py3-none-any.whl.metadata (7.0 kB)
Collecting google-cloud-secret-manager>=2.22.0 (from google-adk==0.5.0->-r requirements.txt (line 7))
  Downloading google_cloud_secret_manager-2.25.0-py3-none-any.whl.metadata (9.8 kB)
Collecting google-cloud-speech>=2.30.0 (from google-adk==0.5.0->-r requirements.txt (line 7))
  Downloading google_cloud_speech-2.34.0-py3-none-any.whl.metadata (9.8 kB)
Collecting graphviz>=0.20.2 (from google-adk==0.5.0->-r requirements.txt (line 7))
  Downloading graphviz-0.21-py3-none-any.whl.metadata (12 kB)
Collecting mcp>=1.5.0 (from google-adk==0.5.0->-r requirements.txt (line 7))
  Downloading mcp-1.19.0-py3-none-any.whl.metadata (85 kB)
Collecting opentelemetry-api>=1.31.0 (from google-adk==0.5.0->-r requirements.txt (line 7))
  Downloading opentelemetry_api-1.38.0-py3-none-any.whl.metadata (1.5 kB)
Collecting opentelemetry-exporter-gcp-trace>=1.9.0 (from google-adk==0.5.0->-r requirements.txt (line 7))
  Downloading opentelemetry_exporter_gcp_trace-1.10.0-py3-none-any.whl.metadata (3.3 kB)
Collecting opentelemetry-sdk>=1.31.0 (from google-adk==0.5.0->-r requirements.txt (line 7))
  Downloading opentelemetry_sdk-1.38.0-py3-none-any.whl.metadata (1.5 kB)
Collecting python-dotenv>=1.0.0 (from google-adk==0.5.0->-r requirements.txt (line 7))
  Downloading python_dotenv-1.2.1-py3-none-any.whl.metadata (25 kB)
Collecting PyYAML>=6.0.2 (from google-adk==0.5.0->-r requirements.txt (line 7))
  Downloading pyyaml-6.0.3-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (2.4 kB)
Collecting sqlalchemy>=2.0 (from google-adk==0.5.0->-r requirements.txt (line 7))
  Downloading sqlalchemy-2.0.44-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (9.5 kB)
Collecting tzlocal>=5.3 (from google-adk==0.5.0->-r requirements.txt (line 7))
  Downloading tzlocal-5.3.1-py3-none-any.whl.metadata (7.6 kB)
Collecting starlette<0.39.0,>=0.37.2 (from fastapi==0.115.0->-r requirements.txt (line 9))
  Downloading starlette-0.38.6-py3-none-any.whl.metadata (6.0 kB)
Collecting ecdsa!=0.15 (from python-jose==3.3.0->python-jose[cryptography]==3.3.0->-r requirements.txt (line 14))
  Downloading ecdsa-0.19.1-py2.py3-none-any.whl.metadata (29 kB)
Collecting rsa (from python-jose==3.3.0->python-jose[cryptography]==3.3.0->-r requirements.txt (line 14))
  Downloading rsa-4.9.1-py3-none-any.whl.metadata (5.6 kB)
Collecting pyasn1 (from python-jose==3.3.0->python-jose[cryptography]==3.3.0->-r requirements.txt (line 14))
  Downloading pyasn1-0.6.1-py3-none-any.whl.metadata (8.4 kB)
Collecting iniconfig (from pytest==7.4.3->-r requirements.txt (line 17))
  Downloading iniconfig-2.3.0-py3-none-any.whl.metadata (2.5 kB)
Collecting pluggy<2.0,>=0.12 (from pytest==7.4.3->-r requirements.txt (line 17))
  Downloading pluggy-1.6.0-py3-none-any.whl.metadata (4.8 kB)
Collecting coverage>=5.2.1 (from coverage[toml]>=5.2.1->pytest-cov==4.1.0->-r requirements.txt (line 21))
  Downloading coverage-7.11.0-cp311-cp311-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl.metadata (9.0 kB)
Collecting cryptography>=3.4.0 (from python-jose[cryptography]==3.3.0->-r requirements.txt (line 14))
  Downloading cryptography-46.0.3-cp311-abi3-manylinux_2_34_x86_64.whl.metadata (5.7 kB)
Collecting certifi (from httpx<1.0.0,>=0.28.1->-r requirements.txt (line 20))
  Downloading certifi-2025.10.5-py3-none-any.whl.metadata (2.5 kB)
Collecting httpcore==1.* (from httpx<1.0.0,>=0.28.1->-r requirements.txt (line 20))
  Downloading httpcore-1.0.9-py3-none-any.whl.metadata (21 kB)
Collecting idna (from httpx<1.0.0,>=0.28.1->-r requirements.txt (line 20))
  Downloading idna-3.11-py3-none-any.whl.metadata (8.4 kB)
Collecting sniffio>=1.1 (from anyio<5.0.0,>=4.8.0->google-genai==1.14.0->-r requirements.txt (line 5))
  Downloading sniffio-1.3.1-py3-none-any.whl.metadata (3.9 kB)
Collecting smmap<6,>=3.0.1 (from gitdb<5,>=4.0.1->gitpython==3.1.40->-r requirements.txt (line 6))
  Downloading smmap-5.0.2-py3-none-any.whl.metadata (4.3 kB)
Collecting googleapis-common-protos<2.0.0,>=1.56.2 (from google-api-core!=2.0.*,!=2.1.*,!=2.2.*,!=2.3.*,!=2.4.*,!=2.5.*,!=2.6.*,!=2.7.*,<3.0.0,>=1.34.1->google-api-core[grpc]!=2.0.*,!=2.1.*,!=2.2.*,!=2.3.*,!=2.4.*,!=2.5.*,!=2.6.*,!=2.7.*,<3.0.0,>=1.34.1->google-cloud-aiplatform==1.92.0->-r requirements.txt (line 1))
  Downloading googleapis_common_protos-1.71.0-py3-none-any.whl.metadata (9.4 kB)
Collecting grpcio<2.0.0,>=1.33.2 (from google-api-core[grpc]!=2.0.*,!=2.1.*,!=2.2.*,!=2.3.*,!=2.4.*,!=2.5.*,!=2.6.*,!=2.7.*,<3.0.0,>=1.34.1->google-cloud-aiplatform==1.92.0->-r requirements.txt (line 1))
  Downloading grpcio-1.76.0-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (3.7 kB)
Collecting grpcio-status<2.0.0,>=1.33.2 (from google-api-core[grpc]!=2.0.*,!=2.1.*,!=2.2.*,!=2.3.*,!=2.4.*,!=2.5.*,!=2.6.*,!=2.7.*,<3.0.0,>=1.34.1->google-cloud-aiplatform==1.92.0->-r requirements.txt (line 1))
  Downloading grpcio_status-1.76.0-py3-none-any.whl.metadata (1.1 kB)
Collecting cachetools<7.0,>=2.0.0 (from google-auth<3.0.0,>=2.14.1->google-cloud-aiplatform==1.92.0->-r requirements.txt (line 1))
  Downloading cachetools-6.2.1-py3-none-any.whl.metadata (5.5 kB)
Collecting pyasn1-modules>=0.2.1 (from google-auth<3.0.0,>=2.14.1->google-cloud-aiplatform==1.92.0->-r requirements.txt (line 1))
  Downloading pyasn1_modules-0.4.2-py3-none-any.whl.metadata (3.5 kB)
Collecting python-dateutil<3.0.0,>=2.8.2 (from google-cloud-bigquery!=3.20.0,<4.0.0,>=1.15.0->google-cloud-aiplatform==1.92.0->-r requirements.txt (line 1))
  Downloading python_dateutil-2.9.0.post0-py2.py3-none-any.whl.metadata (8.4 kB)
Collecting grpc-google-iam-v1<1.0.0,>=0.14.0 (from google-cloud-resource-manager<3.0.0,>=1.3.3->google-cloud-aiplatform==1.92.0->-r requirements.txt (line 1))
  Downloading grpc_google_iam_v1-0.14.3-py3-none-any.whl.metadata (9.2 kB)
Collecting six>=1.5 (from python-dateutil<3.0.0,>=2.8.2->google-cloud-bigquery!=3.20.0,<4.0.0,>=1.15.0->google-cloud-aiplatform==1.92.0->-r requirements.txt (line 1))
  Downloading six-1.17.0-py2.py3-none-any.whl.metadata (1.7 kB)
Collecting charset_normalizer<4,>=2 (from requests<3.0.0dev,>=2.18.0->google-cloud-storage==2.19.0->-r requirements.txt (line 4))
  Downloading charset_normalizer-3.4.4-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (37 kB)
Collecting urllib3<3,>=1.21.1 (from requests<3.0.0dev,>=2.18.0->google-cloud-storage==2.19.0->-r requirements.txt (line 4))
  Downloading urllib3-2.5.0-py3-none-any.whl.metadata (6.5 kB)
Collecting numpy>=1.21 (from shapely<3.0.0->google-cloud-aiplatform==1.92.0->-r requirements.txt (line 1))
  Downloading numpy-2.3.4-cp311-cp311-manylinux_2_27_x86_64.manylinux_2_28_x86_64.whl.metadata (62 kB)
Collecting wrapt<3,>=1.10 (from deprecated->-r requirements.txt (line 8))
  Downloading wrapt-2.0.0-cp311-cp311-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl.metadata (8.8 kB)
Collecting cffi>=2.0.0 (from cryptography>=3.4.0->python-jose[cryptography]==3.3.0->-r requirements.txt (line 14))
  Downloading cffi-2.0.0-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (2.6 kB)
Collecting pycparser (from cffi>=2.0.0->cryptography>=3.4.0->python-jose[cryptography]==3.3.0->-r requirements.txt (line 14))
  Downloading pycparser-2.23-py3-none-any.whl.metadata (993 bytes)
Collecting httplib2<1.0.0,>=0.19.0 (from google-api-python-client>=2.157.0->google-adk==0.5.0->-r requirements.txt (line 7))
  Downloading httplib2-0.31.0-py3-none-any.whl.metadata (2.2 kB)
Collecting google-auth-httplib2<1.0.0,>=0.2.0 (from google-api-python-client>=2.157.0->google-adk==0.5.0->-r requirements.txt (line 7))
  Downloading google_auth_httplib2-0.2.0-py2.py3-none-any.whl.metadata (2.2 kB)
Collecting uritemplate<5,>=3.0.1 (from google-api-python-client>=2.157.0->google-adk==0.5.0->-r requirements.txt (line 7))
  Downloading uritemplate-4.2.0-py3-none-any.whl.metadata (2.6 kB)
Collecting pyparsing<4,>=3.0.4 (from httplib2<1.0.0,>=0.19.0->google-api-python-client>=2.157.0->google-adk==0.5.0->-r requirements.txt (line 7))
  Downloading pyparsing-3.2.5-py3-none-any.whl.metadata (5.0 kB)
Collecting httpx-sse>=0.4 (from mcp>=1.5.0->google-adk==0.5.0->-r requirements.txt (line 7))
  Downloading httpx_sse-0.4.3-py3-none-any.whl.metadata (9.7 kB)
Collecting jsonschema>=4.20.0 (from mcp>=1.5.0->google-adk==0.5.0->-r requirements.txt (line 7))
  Downloading jsonschema-4.25.1-py3-none-any.whl.metadata (7.6 kB)
Collecting pydantic-settings>=2.5.2 (from mcp>=1.5.0->google-adk==0.5.0->-r requirements.txt (line 7))
  Downloading pydantic_settings-2.11.0-py3-none-any.whl.metadata (3.4 kB)
INFO: pip is looking at multiple versions of mcp to determine which version is compatible with other requirements. This could take a while.
Collecting mcp>=1.5.0 (from google-adk==0.5.0->-r requirements.txt (line 7))
  Downloading mcp-1.18.0-py3-none-any.whl.metadata (80 kB)
  Downloading mcp-1.17.0-py3-none-any.whl.metadata (80 kB)
  Downloading mcp-1.16.0-py3-none-any.whl.metadata (80 kB)
  Downloading mcp-1.15.0-py3-none-any.whl.metadata (80 kB)
  Downloading mcp-1.14.1-py3-none-any.whl.metadata (75 kB)
  Downloading mcp-1.14.0-py3-none-any.whl.metadata (75 kB)
  Downloading mcp-1.13.1-py3-none-any.whl.metadata (74 kB)
INFO: pip is still looking at multiple versions of mcp to determine which version is compatible with other requirements. This could take a while.
  Downloading mcp-1.13.0-py3-none-any.whl.metadata (68 kB)
  Downloading mcp-1.12.4-py3-none-any.whl.metadata (68 kB)
Collecting sse-starlette>=1.6.1 (from mcp>=1.5.0->google-adk==0.5.0->-r requirements.txt (line 7))
  Downloading sse_starlette-3.0.2-py3-none-any.whl.metadata (11 kB)
Collecting attrs>=22.2.0 (from jsonschema>=4.20.0->mcp>=1.5.0->google-adk==0.5.0->-r requirements.txt (line 7))
  Downloading attrs-25.4.0-py3-none-any.whl.metadata (10 kB)
Collecting jsonschema-specifications>=2023.03.6 (from jsonschema>=4.20.0->mcp>=1.5.0->google-adk==0.5.0->-r requirements.txt (line 7))
  Downloading jsonschema_specifications-2025.9.1-py3-none-any.whl.metadata (2.9 kB)
Collecting referencing>=0.28.4 (from jsonschema>=4.20.0->mcp>=1.5.0->google-adk==0.5.0->-r requirements.txt (line 7))
  Downloading referencing-0.37.0-py3-none-any.whl.metadata (2.8 kB)
Collecting rpds-py>=0.7.1 (from jsonschema>=4.20.0->mcp>=1.5.0->google-adk==0.5.0->-r requirements.txt (line 7))
  Downloading rpds_py-0.28.0-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.1 kB)
Collecting importlib-metadata<8.8.0,>=6.0 (from opentelemetry-api>=1.31.0->google-adk==0.5.0->-r requirements.txt (line 7))
  Downloading importlib_metadata-8.7.0-py3-none-any.whl.metadata (4.8 kB)
Collecting zipp>=3.20 (from importlib-metadata<8.8.0,>=6.0->opentelemetry-api>=1.31.0->google-adk==0.5.0->-r requirements.txt (line 7))
  Downloading zipp-3.23.0-py3-none-any.whl.metadata (3.6 kB)
Collecting google-cloud-trace~=1.1 (from opentelemetry-exporter-gcp-trace>=1.9.0->google-adk==0.5.0->-r requirements.txt (line 7))
  Downloading google_cloud_trace-1.17.0-py3-none-any.whl.metadata (9.8 kB)
Collecting opentelemetry-resourcedetector-gcp==1.*,>=1.5.0dev0 (from opentelemetry-exporter-gcp-trace>=1.9.0->google-adk==0.5.0->-r requirements.txt (line 7))
  Downloading opentelemetry_resourcedetector_gcp-1.10.0a0-py3-none-any.whl.metadata (3.2 kB)
Collecting opentelemetry-semantic-conventions==0.59b0 (from opentelemetry-sdk>=1.31.0->google-adk==0.5.0->-r requirements.txt (line 7))
  Downloading opentelemetry_semantic_conventions-0.59b0-py3-none-any.whl.metadata (2.4 kB)
Collecting typing-inspection>=0.4.0 (from pydantic-settings>=2.5.2->mcp>=1.5.0->google-adk==0.5.0->-r requirements.txt (line 7))
  Downloading typing_inspection-0.4.2-py3-none-any.whl.metadata (2.6 kB)
Collecting greenlet>=1 (from sqlalchemy>=2.0->google-adk==0.5.0->-r requirements.txt (line 7))
  Downloading greenlet-3.2.4-cp311-cp311-manylinux_2_24_x86_64.manylinux_2_28_x86_64.whl.metadata (4.1 kB)
Downloading google_cloud_aiplatform-1.92.0-py2.py3-none-any.whl (7.6 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 7.6/7.6 MB 27.5 MB/s  0:00:00
Downloading google_cloud_storage-2.19.0-py2.py3-none-any.whl (131 kB)
Downloading google_genai-1.14.0-py3-none-any.whl (168 kB)
Downloading pydantic-2.9.0-py3-none-any.whl (434 kB)
Downloading uvicorn-0.34.0-py3-none-any.whl (62 kB)
Downloading PyMuPDF-1.24.1-cp311-none-manylinux2014_x86_64.whl (3.9 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 3.9/3.9 MB 63.0 MB/s  0:00:00
Downloading GitPython-3.1.40-py3-none-any.whl (190 kB)
Downloading google_adk-0.5.0-py3-none-any.whl (1.2 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1.2/1.2 MB 73.4 MB/s  0:00:00
Downloading fastapi-0.115.0-py3-none-any.whl (94 kB)
Downloading python_multipart-0.0.12-py3-none-any.whl (23 kB)
Downloading passlib-1.7.4-py2.py3-none-any.whl (525 kB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 525.6/525.6 kB 136.7 MB/s  0:00:00
Downloading bcrypt-4.0.1-cp36-abi3-manylinux_2_28_x86_64.whl (593 kB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 593.7/593.7 kB 166.4 MB/s  0:00:00
Downloading python_jose-3.3.0-py2.py3-none-any.whl (33 kB)
Downloading pytest-7.4.3-py3-none-any.whl (325 kB)
Downloading pytest_asyncio-0.21.1-py3-none-any.whl (13 kB)
Downloading pytest_mock-3.12.0-py3-none-any.whl (9.8 kB)
Downloading pytest_cov-4.1.0-py3-none-any.whl (21 kB)
Downloading pydantic_core-2.23.2-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.1 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 2.1/2.1 MB 87.2 MB/s  0:00:00
Downloading PyMuPDFb-1.24.1-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (30.8 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 30.8/30.8 MB 160.9 MB/s  0:00:00
Downloading httpx-0.28.1-py3-none-any.whl (73 kB)
Downloading anyio-4.11.0-py3-none-any.whl (109 kB)
Downloading docstring_parser-0.17.0-py3-none-any.whl (36 kB)
Downloading gitdb-4.0.12-py3-none-any.whl (62 kB)
Downloading google_api_core-2.28.1-py3-none-any.whl (173 kB)
Downloading google_auth-2.42.0-py2.py3-none-any.whl (222 kB)
Downloading cachetools-6.2.1-py3-none-any.whl (11 kB)
Downloading google_cloud_bigquery-3.38.0-py3-none-any.whl (259 kB)
Downloading google_cloud_core-2.4.3-py2.py3-none-any.whl (29 kB)
Downloading google_cloud_resource_manager-1.15.0-py3-none-any.whl (397 kB)
Downloading google_crc32c-1.7.1-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (32 kB)
Downloading google_resumable_media-2.7.2-py2.py3-none-any.whl (81 kB)
Downloading googleapis_common_protos-1.71.0-py3-none-any.whl (294 kB)
Downloading grpc_google_iam_v1-0.14.3-py3-none-any.whl (32 kB)
Downloading grpcio-1.76.0-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (6.6 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 6.6/6.6 MB 295.1 MB/s  0:00:00
Downloading grpcio_status-1.76.0-py3-none-any.whl (14 kB)
Downloading httpcore-1.0.9-py3-none-any.whl (78 kB)
Downloading pluggy-1.6.0-py3-none-any.whl (20 kB)
Downloading proto_plus-1.26.1-py3-none-any.whl (50 kB)
Downloading protobuf-6.33.0-cp39-abi3-manylinux2014_x86_64.whl (323 kB)
Downloading python_dateutil-2.9.0.post0-py2.py3-none-any.whl (229 kB)
Downloading requests-2.32.5-py3-none-any.whl (64 kB)
Downloading charset_normalizer-3.4.4-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (151 kB)
Downloading idna-3.11-py3-none-any.whl (71 kB)
Downloading rsa-4.9.1-py3-none-any.whl (34 kB)
Downloading shapely-2.1.2-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (3.1 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 3.1/3.1 MB 325.2 MB/s  0:00:00
Downloading smmap-5.0.2-py3-none-any.whl (24 kB)
Downloading starlette-0.38.6-py3-none-any.whl (71 kB)
Downloading typing_extensions-4.15.0-py3-none-any.whl (44 kB)
Downloading urllib3-2.5.0-py3-none-any.whl (129 kB)
Downloading websockets-15.0.1-cp311-cp311-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (182 kB)
Downloading deprecated-1.3.0-py2.py3-none-any.whl (11 kB)
Downloading wrapt-2.0.0-cp311-cp311-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl (114 kB)
Downloading annotated_types-0.7.0-py3-none-any.whl (13 kB)
Downloading authlib-1.6.5-py2.py3-none-any.whl (243 kB)
Downloading certifi-2025.10.5-py3-none-any.whl (163 kB)
Downloading click-8.3.0-py3-none-any.whl (107 kB)
Downloading coverage-7.11.0-cp311-cp311-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl (248 kB)
Downloading cryptography-46.0.3-cp311-abi3-manylinux_2_34_x86_64.whl (4.5 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 4.5/4.5 MB 317.2 MB/s  0:00:00
Downloading cffi-2.0.0-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (215 kB)
Downloading ecdsa-0.19.1-py2.py3-none-any.whl (150 kB)
Downloading google_api_python_client-2.185.0-py3-none-any.whl (14.5 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 14.5/14.5 MB 312.3 MB/s  0:00:00
Downloading google_auth_httplib2-0.2.0-py2.py3-none-any.whl (9.3 kB)
Downloading httplib2-0.31.0-py3-none-any.whl (91 kB)
Downloading pyparsing-3.2.5-py3-none-any.whl (113 kB)
Downloading uritemplate-4.2.0-py3-none-any.whl (11 kB)
Downloading google_cloud_secret_manager-2.25.0-py3-none-any.whl (218 kB)
Downloading google_cloud_speech-2.34.0-py3-none-any.whl (336 kB)
Downloading graphviz-0.21-py3-none-any.whl (47 kB)
Downloading h11-0.16.0-py3-none-any.whl (37 kB)
Downloading mcp-1.12.4-py3-none-any.whl (160 kB)
Downloading httpx_sse-0.4.3-py3-none-any.whl (9.0 kB)
Downloading jsonschema-4.25.1-py3-none-any.whl (90 kB)
Downloading attrs-25.4.0-py3-none-any.whl (67 kB)
Downloading jsonschema_specifications-2025.9.1-py3-none-any.whl (18 kB)
Downloading numpy-2.3.4-cp311-cp311-manylinux_2_27_x86_64.manylinux_2_28_x86_64.whl (16.9 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 16.9/16.9 MB 302.1 MB/s  0:00:00
Downloading opentelemetry_api-1.38.0-py3-none-any.whl (65 kB)
Downloading importlib_metadata-8.7.0-py3-none-any.whl (27 kB)
Downloading opentelemetry_exporter_gcp_trace-1.10.0-py3-none-any.whl (14 kB)
Downloading google_cloud_trace-1.17.0-py3-none-any.whl (104 kB)
Downloading opentelemetry_resourcedetector_gcp-1.10.0a0-py3-none-any.whl (18 kB)
Downloading opentelemetry_sdk-1.38.0-py3-none-any.whl (132 kB)
Downloading opentelemetry_semantic_conventions-0.59b0-py3-none-any.whl (207 kB)
Downloading packaging-25.0-py3-none-any.whl (66 kB)
Downloading pyasn1-0.6.1-py3-none-any.whl (83 kB)
Downloading pyasn1_modules-0.4.2-py3-none-any.whl (181 kB)
Downloading pydantic_settings-2.11.0-py3-none-any.whl (48 kB)
Downloading python_dotenv-1.2.1-py3-none-any.whl (21 kB)
Downloading pyyaml-6.0.3-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (806 kB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 806.6/806.6 kB 307.2 MB/s  0:00:00
Downloading referencing-0.37.0-py3-none-any.whl (26 kB)
Downloading rpds_py-0.28.0-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (382 kB)
Downloading six-1.17.0-py2.py3-none-any.whl (11 kB)
Downloading sniffio-1.3.1-py3-none-any.whl (10 kB)
Downloading sqlalchemy-2.0.44-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.3 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 3.3/3.3 MB 330.6 MB/s  0:00:00
Downloading greenlet-3.2.4-cp311-cp311-manylinux_2_24_x86_64.manylinux_2_28_x86_64.whl (587 kB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 587.7/587.7 kB 454.8 MB/s  0:00:00
Downloading sse_starlette-3.0.2-py3-none-any.whl (11 kB)
Downloading typing_inspection-0.4.2-py3-none-any.whl (14 kB)
Downloading tzlocal-5.3.1-py3-none-any.whl (18 kB)
Downloading zipp-3.23.0-py3-none-any.whl (10 kB)
Downloading iniconfig-2.3.0-py3-none-any.whl (7.5 kB)
Downloading pycparser-2.23-py3-none-any.whl (118 kB)
Downloading tzdata-2025.2-py2.py3-none-any.whl (347 kB)
Installing collected packages: passlib, zipp, wrapt, websockets, urllib3, uritemplate, tzlocal, tzdata, typing-extensions, sniffio, smmap, six, rpds-py, PyYAML, python-multipart, python-dotenv, pyparsing, PyMuPDFb, pycparser, pyasn1, protobuf, pluggy, packaging, numpy, iniconfig, idna, httpx-sse, h11, greenlet, graphviz, google-crc32c, docstring-parser, coverage, click, charset_normalizer, certifi, cachetools, bcrypt, attrs, annotated-types, uvicorn, typing-inspection, sqlalchemy, shapely, rsa, requests, referencing, python-dateutil, pytest, PyMuPDF, pydantic-core, pyasn1-modules, proto-plus, importlib-metadata, httplib2, httpcore, grpcio, googleapis-common-protos, google-resumable-media, gitdb, ecdsa, deprecated, cffi, anyio, starlette, sse-starlette, python-jose, pytest-mock, pytest-cov, pytest-asyncio, pydantic, opentelemetry-api, jsonschema-specifications, httpx, grpcio-status, google-auth, gitpython, cryptography, pydantic-settings, opentelemetry-semantic-conventions, jsonschema, grpc-google-iam-v1, google-genai, google-auth-httplib2, google-api-core, fastapi, authlib, opentelemetry-sdk, mcp, google-cloud-core, google-api-python-client, opentelemetry-resourcedetector-gcp, google-cloud-trace, google-cloud-storage, google-cloud-speech, google-cloud-secret-manager, google-cloud-resource-manager, google-cloud-bigquery, opentelemetry-exporter-gcp-trace, google-cloud-aiplatform, google-adk

Successfully installed PyMuPDF-1.24.1 PyMuPDFb-1.24.1 PyYAML-6.0.3 annotated-types-0.7.0 anyio-4.11.0 attrs-25.4.0 authlib-1.6.5 bcrypt-4.0.1 cachetools-6.2.1 certifi-2025.10.5 cffi-2.0.0 charset_normalizer-3.4.4 click-8.3.0 coverage-7.11.0 cryptography-46.0.3 deprecated-1.3.0 docstring-parser-0.17.0 ecdsa-0.19.1 fastapi-0.115.0 gitdb-4.0.12 gitpython-3.1.40 google-adk-0.5.0 google-api-core-2.28.1 google-api-python-client-2.185.0 google-auth-2.42.0 google-auth-httplib2-0.2.0 google-cloud-aiplatform-1.92.0 google-cloud-bigquery-3.38.0 google-cloud-core-2.4.3 google-cloud-resource-manager-1.15.0 google-cloud-secret-manager-2.25.0 google-cloud-speech-2.34.0 google-cloud-storage-2.19.0 google-cloud-trace-1.17.0 google-crc32c-1.7.1 google-genai-1.14.0 google-resumable-media-2.7.2 googleapis-common-protos-1.71.0 graphviz-0.21 greenlet-3.2.4 grpc-google-iam-v1-0.14.3 grpcio-1.76.0 grpcio-status-1.76.0 h11-0.16.0 httpcore-1.0.9 httplib2-0.31.0 httpx-0.28.1 httpx-sse-0.4.3 idna-3.11 importlib-metadata-8.7.0 iniconfig-2.3.0 jsonschema-4.25.1 jsonschema-specifications-2025.9.1 mcp-1.12.4 numpy-2.3.4 opentelemetry-api-1.38.0 opentelemetry-exporter-gcp-trace-1.10.0 opentelemetry-resourcedetector-gcp-1.10.0a0 opentelemetry-sdk-1.38.0 opentelemetry-semantic-conventions-0.59b0 packaging-25.0 passlib-1.7.4 pluggy-1.6.0 proto-plus-1.26.1 protobuf-6.33.0 pyasn1-0.6.1 pyasn1-modules-0.4.2 pycparser-2.23 pydantic-2.9.0 pydantic-core-2.23.2 pydantic-settings-2.11.0 pyparsing-3.2.5 pytest-7.4.3 pytest-asyncio-0.21.1 pytest-cov-4.1.0 pytest-mock-3.12.0 python-dateutil-2.9.0.post0 python-dotenv-1.2.1 python-jose-3.3.0 python-multipart-0.0.12 referencing-0.37.0 requests-2.32.5 rpds-py-0.28.0 rsa-4.9.1 shapely-2.1.2 six-1.17.0 smmap-5.0.2 sniffio-1.3.1 sqlalchemy-2.0.44 sse-starlette-3.0.2 starlette-0.38.6 typing-extensions-4.15.0 typing-inspection-0.4.2 tzdata-2025.2 tzlocal-5.3.1 uritemplate-4.2.0 urllib3-2.5.0 uvicorn-0.34.0 websockets-15.0.1 wrapt-2.0.0 zipp-3.23.0
[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
[0mRemoving intermediate container f00733784811
 ---> 32f44963bdf5
Step 7/22 : COPY src/ ./src/
 ---> ff829ae1f869
Step 8/22 : COPY config/ ./config/
 ---> 0a817a183ade
Step 9/22 : RUN mkdir -p /app/data
 ---> Running in 6f9428854c79
Removing intermediate container 6f9428854c79
 ---> 49788e847509
Step 10/22 : ENV PYTHONPATH=/app
 ---> Running in 736d6b74f19b
Removing intermediate container 736d6b74f19b
 ---> 1af00c52e3c6
Step 11/22 : ENV DATABASE_PATH=/app/data/users.db
 ---> Running in 5beb9348c4dc
Removing intermediate container 5beb9348c4dc
 ---> 517d5fe2862d
Step 12/22 : ENV LOG_LEVEL=INFO
 ---> Running in be50c2758c98
Removing intermediate container be50c2758c98
 ---> b510a5d35121
Step 13/22 : ENV ENVIRONMENT=production
 ---> Running in 93022c349588
Removing intermediate container 93022c349588
 ---> 12d88458d2b8
Step 14/22 : ENV PROJECT_ID=adk-rag-hdtest6
 ---> Running in a9233b449c8c
Removing intermediate container a9233b449c8c
 ---> 81378fe0ac39
Step 15/22 : ENV GOOGLE_CLOUD_LOCATION=us-east4
 ---> Running in c64d3c297bd0
Removing intermediate container c64d3c297bd0
 ---> 2d600e818b6a
Step 16/22 : ENV GOOGLE_GENAI_USE_VERTEXAI=true
 ---> Running in f6373c576664
Removing intermediate container f6373c576664
 ---> 2b8d9065acf5
Step 17/22 : ENV VERTEXAI_PROJECT=adk-rag-hdtest6
 ---> Running in 56b58ff1fd68
Removing intermediate container 56b58ff1fd68
 ---> 1965135e4020
Step 18/22 : ENV VERTEXAI_LOCATION=us-east4
 ---> Running in 028a68d6c49a
Removing intermediate container 028a68d6c49a
 ---> 20b6bc5e05a9
Step 19/22 : ENV ACCOUNT_ENV=develom
 ---> Running in 829bdd54d0b1
Removing intermediate container 829bdd54d0b1
 ---> 0742d97fc796
Step 20/22 : EXPOSE 8080
 ---> Running in 7980dbcb1672
Removing intermediate container 7980dbcb1672
 ---> a212d1f05d4f
Step 21/22 : HEALTHCHECK --interval=30s --timeout=30s --start-period=5s --retries=3     CMD curl -f http://localhost:${PORT:-8000}/ || exit 1
 ---> Running in 4fab8f78aeb8
Removing intermediate container 4fab8f78aeb8
 ---> b69919d384c8
Step 22/22 : CMD ["python", "src/api/server.py"]
 ---> Running in 571087b9a850
Removing intermediate container 571087b9a850
 ---> 535ee491ac2f
Successfully built 535ee491ac2f
Successfully tagged us-east4-docker.pkg.dev/adk-rag-hdtest6/cloud-run-repo1/backend:9cac639
PUSH
Pushing us-east4-docker.pkg.dev/adk-rag-hdtest6/cloud-run-repo1/backend:9cac639
The push refers to repository [us-east4-docker.pkg.dev/adk-rag-hdtest6/cloud-run-repo1/backend]
f9c2a787dfb7: Preparing
9609bed67e05: Preparing
60301356aa68: Preparing
409aed39d717: Preparing
9dc9ba36753e: Preparing
80a67169d276: Preparing
51e72f5a69b9: Preparing
e0a2d6cfbbff: Preparing
235e81929876: Preparing
9ba402f61141: Preparing
15eb6aec49b3: Preparing
d7c97cb6f1fe: Preparing
80a67169d276: Waiting
51e72f5a69b9: Waiting
e0a2d6cfbbff: Waiting
235e81929876: Waiting
9ba402f61141: Waiting
15eb6aec49b3: Waiting
d7c97cb6f1fe: Waiting
9609bed67e05: Pushed
60301356aa68: Pushed
f9c2a787dfb7: Pushed
9dc9ba36753e: Pushed
235e81929876: Layer already exists
9ba402f61141: Layer already exists
80a67169d276: Pushed
e0a2d6cfbbff: Pushed
15eb6aec49b3: Layer already exists
d7c97cb6f1fe: Pushed
51e72f5a69b9: Pushed
409aed39d717: Pushed
9cac639: digest: sha256:c00e4c04c85ccf3c0557354be032cb80fd5ec024e1cac60812051c90156c669a size: 2835
DONE
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------
ID                                    CREATE_TIME                DURATION  SOURCE                                                                                        IMAGES                                                                   STATUS
abab0f3a-f380-4193-ae0d-ff4610530cf3  2025-10-29T18:35:00+00:00  2M24S     gs://adk-rag-hdtest6_cloudbuild/source/1761762899.53971-dc10d535ebd34103ac7a0182212e5474.tgz  us-east4-docker.pkg.dev/adk-rag-hdtest6/cloud-run-repo1/backend:9cac639  SUCCESS
[0;32mâœ… Backend image built: us-east4-docker.pkg.dev/adk-rag-hdtest6/cloud-run-repo1/backend:9cac639[0m
[0;34mâ„¹ï¸  Deploying backend to Cloud Run...[0m
[0;32mâœ… Backend deployed: https://backend-3tizxtwazq-uk.a.run.app[0m
[0;34mâ„¹ï¸  Building frontend container image (initial)...[0m
-------------------------------------------------------------------------- REMOTE BUILD OUTPUT --------------------------------------------------------------------------
starting build "3af839d8-719d-45e1-9995-57b9a0587d6b"

FETCHSOURCE
Fetching storage object: gs://adk-rag-hdtest6_cloudbuild/source/1761763092.779703-eeb4b7f6369948cabd924c2ffca139b1.tgz#1761763094158476
Copying gs://adk-rag-hdtest6_cloudbuild/source/1761763092.779703-eeb4b7f6369948cabd924c2ffca139b1.tgz#1761763094158476...
/ [0 files][    0.0 B/  1.8 MiB]                                                / [1 files][  1.8 MiB/  1.8 MiB]                                                
Operation completed over 1 objects/1.8 MiB.
BUILD
Starting Step #0
Step #0: Already have image (with digest): gcr.io/cloud-builders/docker
Step #0: Sending build context to Docker daemon  2.552MB
Step #0: Step 1/30 : FROM node:18-alpine AS base
Step #0: 18-alpine: Pulling from library/node
Step #0: f18232174bc9: Pulling fs layer
Step #0: dd71dde834b5: Pulling fs layer
Step #0: 1e5a4c89cee5: Pulling fs layer
Step #0: 25ff2da83641: Pulling fs layer
Step #0: 25ff2da83641: Waiting
Step #0: f18232174bc9: Verifying Checksum
Step #0: f18232174bc9: Download complete
Step #0: 1e5a4c89cee5: Verifying Checksum
Step #0: 1e5a4c89cee5: Download complete
Step #0: f18232174bc9: Pull complete
Step #0: dd71dde834b5: Verifying Checksum
Step #0: dd71dde834b5: Download complete
Step #0: 25ff2da83641: Download complete
Step #0: dd71dde834b5: Pull complete
Step #0: 1e5a4c89cee5: Pull complete
Step #0: 25ff2da83641: Pull complete
Step #0: Digest: sha256:8d6421d663b4c28fd3ebc498332f249011d118945588d0a35cb9bc4b8ca09d9e
Step #0: Status: Downloaded newer image for node:18-alpine
Step #0:  ---> ee77c6cd7c18
Step #0: Step 2/30 : FROM base AS deps
Step #0:  ---> ee77c6cd7c18
Step #0: Step 3/30 : RUN apk add --no-cache libc6-compat
Step #0:  ---> Running in 1fbc7c403e09
Step #0: fetch https://dl-cdn.alpinelinux.org/alpine/v3.21/main/x86_64/APKINDEX.tar.gz
Step #0: fetch https://dl-cdn.alpinelinux.org/alpine/v3.21/community/x86_64/APKINDEX.tar.gz
Step #0: (1/3) Installing musl-obstack (1.2.3-r2)
Step #0: (2/3) Installing libucontext (1.3.2-r0)
Step #0: (3/3) Installing gcompat (1.1.0-r4)
Step #0: OK: 10 MiB in 20 packages
Step #0: Removing intermediate container 1fbc7c403e09
Step #0:  ---> bd92d03fca14
Step #0: Step 4/30 : WORKDIR /app
Step #0:  ---> Running in aff6b45e929c
Step #0: Removing intermediate container aff6b45e929c
Step #0:  ---> c8e23a3b406d
Step #0: Step 5/30 : COPY package.json package-lock.json* ./
Step #0:  ---> 947736d06a57
Step #0: Step 6/30 : RUN npm install
Step #0:  ---> Running in 3b619d920a5d
Step #0: 
Step #0: added 495 packages, and audited 496 packages in 21s
Step #0: 
Step #0: 241 packages are looking for funding
Step #0:   run `npm fund` for details
Step #0: 
Step #0: 1 moderate severity vulnerability
Step #0: 
Step #0: To address all issues, run:
Step #0:   npm audit fix --force
Step #0: 
Step #0: Run `npm audit` for details.
Step #0: [91mnpm notice
Step #0: npm notice New major version of npm available! 10.8.2 -> 11.6.2
Step #0: npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.2
Step #0: npm notice To update run: npm install -g npm@11.6.2
Step #0: npm notice
Step #0: [0mRemoving intermediate container 3b619d920a5d
Step #0:  ---> 676387bf83d5
Step #0: Step 7/30 : FROM base AS builder
Step #0:  ---> ee77c6cd7c18
Step #0: Step 8/30 : WORKDIR /app
Step #0:  ---> Running in a914c09b1151
Step #0: Removing intermediate container a914c09b1151
Step #0:  ---> 4b8a48890cd9
Step #0: Step 9/30 : COPY --from=deps /app/node_modules ./node_modules
Step #0:  ---> cb6ef16c5d77
Step #0: Step 10/30 : COPY . .
Step #0:  ---> 51e82dd29cba
Step #0: Step 11/30 : ENV NEXT_TELEMETRY_DISABLED 1
Step #0:  ---> Running in 2dfc8b714604
Step #0: Removing intermediate container 2dfc8b714604
Step #0:  ---> 43081e1748d7
Step #0: Step 12/30 : ARG NEXT_PUBLIC_BACKEND_URL
Step #0:  ---> Running in aa9e8a90dd69
Step #0: Removing intermediate container aa9e8a90dd69
Step #0:  ---> 58b55e27321d
Step #0: Step 13/30 : ENV NEXT_PUBLIC_BACKEND_URL=$NEXT_PUBLIC_BACKEND_URL
Step #0:  ---> Running in d259e48911e8
Step #0: Removing intermediate container d259e48911e8
Step #0:  ---> f1e303c89a1d
Step #0: Step 14/30 : RUN npm run build
Step #0:  ---> Running in f0f019c8d3e9
Step #0: 
Step #0: > frontend@0.1.0 build
Step #0: > next build
Step #0:
Step #0:    â–² Next.js 15.4.6
Step #0: 
Step #0:    Creating an optimized production build ...
Step #0:  âœ“ Compiled successfully in 22.0s
Step #0:    Skipping linting
Step #0:    Checking validity of types ...
Step #0:    Collecting page data ...
Step #0:    Generating static pages (0/7) ...
Step #0:    Generating static pages (1/7) 
Step #0:    Generating static pages (3/7) 
Step #0:    Generating static pages (5/7) 
Step #0:  âœ“ Generating static pages (7/7)
Step #0:    Finalizing page optimization ...
Step #0:    Collecting build traces ...
Step #0: 
Step #0: Route (app)                                 Size  First Load JS
Step #0: â”Œ â—‹ /                                      55 kB         155 kB
Step #0: â”œ â—‹ /_not-found                            992 B         101 kB
Step #0: â”œ â—‹ /admin                               2.55 kB         102 kB
Step #0: â”” â—‹ /admin/sessions                      6.07 kB         106 kB
Step #0: + First Load JS shared by all            99.6 kB
Step #0:   â”œ chunks/4bd1b696-cf72ae8a39fa05aa.js  54.1 kB
Step #0:   â”œ chunks/964-7a34cadcb7695cec.js       43.5 kB
Step #0:   â”” other shared chunks (total)          1.93 kB
Step #0: 
Step #0: 
Step #0: â—‹  (Static)  prerendered as static content
Step #0: 
Step #0: [91mnpm notice
Step #0: npm notice New major version of npm available! 10.8.2 -> 11.6.2
Step #0: npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.2
Step #0: npm notice To update run: npm install -g npm@11.6.2
Step #0: npm notice
Step #0: [0mRemoving intermediate container f0f019c8d3e9
Step #0:  ---> f48f2a910a51
Step #0: Step 15/30 : FROM base AS runner
Step #0:  ---> ee77c6cd7c18
Step #0: Step 16/30 : WORKDIR /app
Step #0:  ---> Using cache
Step #0:  ---> 4b8a48890cd9
Step #0: Step 17/30 : ENV NODE_ENV production
Step #0:  ---> Running in 4132a37c3e1e
Step #0: Removing intermediate container 4132a37c3e1e
Step #0:  ---> 27e52b034f7f
Step #0: Step 18/30 : ENV NEXT_TELEMETRY_DISABLED 1
Step #0:  ---> Running in e0a88a66fd0c
Step #0: Removing intermediate container e0a88a66fd0c
Step #0:  ---> 226af9ca09ca
Step #0: Step 19/30 : RUN addgroup --system --gid 1001 nodejs
Step #0:  ---> Running in fcccd4b05318
Step #0: Removing intermediate container fcccd4b05318
Step #0:  ---> c2cdb0b78cf1
Step #0: Step 20/30 : RUN adduser --system --uid 1001 nextjs
Step #0:  ---> Running in 85d5ba58460b
Step #0: Removing intermediate container 85d5ba58460b
Step #0:  ---> 53046763596e
Step #0: Step 21/30 : COPY --from=builder /app/public ./public
Step #0:  ---> 79f59b7f5b57
Step #0: Step 22/30 : RUN mkdir .next
Step #0:  ---> Running in b721adb207f0
Step #0: Removing intermediate container b721adb207f0
Step #0:  ---> 794814845c17
Step #0: Step 23/30 : RUN chown nextjs:nodejs .next
Step #0:  ---> Running in 4f7b9ae593e9
Step #0: Removing intermediate container 4f7b9ae593e9
Step #0:  ---> d38ce87d0d99
Step #0: Step 24/30 : COPY --from=builder --chown=nextjs:nodejs /app/.next/standalone ./
Step #0:  ---> 4a8947bc8b0e
Step #0: Step 25/30 : COPY --from=builder --chown=nextjs:nodejs /app/.next/static ./.next/static
Step #0:  ---> 12cd94a9a1d6
Step #0: Step 26/30 : USER nextjs
Step #0:  ---> Running in 985677a18375
Step #0: Removing intermediate container 985677a18375
Step #0:  ---> 2e68abec5058
Step #0: Step 27/30 : EXPOSE 3000
Step #0:  ---> Running in e3eddb721d17
Step #0: Removing intermediate container e3eddb721d17
Step #0:  ---> e8923e16306d
Step #0: Step 28/30 : ENV PORT 3000
Step #0:  ---> Running in 2958fa65f21d
Step #0: Removing intermediate container 2958fa65f21d
Step #0:  ---> 684c02de0a5d
Step #0: Step 29/30 : ENV HOSTNAME "0.0.0.0"
Step #0:  ---> Running in 5331cda1e1aa
Step #0: Removing intermediate container 5331cda1e1aa
Step #0:  ---> 8320430bcf69
Step #0: Step 30/30 : CMD ["node", "server.js"]
Step #0:  ---> Running in f27734cb02f0
Step #0: Removing intermediate container f27734cb02f0
Step #0:  ---> 84502d487edc
Step #0: Successfully built 84502d487edc
Step #0: Successfully tagged us-east4-docker.pkg.dev/adk-rag-hdtest6/cloud-run-repo1/frontend:9cac639
Finished Step #0
Starting Step #1
Step #1: Already have image (with digest): gcr.io/cloud-builders/docker
Step #1: The push refers to repository [us-east4-docker.pkg.dev/adk-rag-hdtest6/cloud-run-repo1/frontend]
Step #1: c19f147e29f9: Preparing
Step #1: da77134b78de: Preparing
Step #1: c86129f4b120: Preparing
Step #1: b2c2a7b089c0: Preparing
Step #1: 94e587a97bce: Preparing
Step #1: 6a8a3cbf9ff0: Preparing
Step #1: c73a781248ed: Preparing
Step #1: e28701cc204a: Preparing
Step #1: 82140d9a70a7: Preparing
Step #1: f3b40b0cdb1c: Preparing
Step #1: 0b1f26057bd0: Preparing
Step #1: 08000c18d16d: Preparing
Step #1: 6a8a3cbf9ff0: Waiting
Step #1: c73a781248ed: Waiting
Step #1: e28701cc204a: Waiting
Step #1: 82140d9a70a7: Waiting
Step #1: f3b40b0cdb1c: Waiting
Step #1: 0b1f26057bd0: Waiting
Step #1: 08000c18d16d: Waiting
Step #1: 94e587a97bce: Pushed
Step #1: c86129f4b120: Pushed
Step #1: c19f147e29f9: Pushed
Step #1: b2c2a7b089c0: Pushed
Step #1: 82140d9a70a7: Layer already exists
Step #1: f3b40b0cdb1c: Layer already exists
Step #1: 6a8a3cbf9ff0: Pushed
Step #1: 0b1f26057bd0: Layer already exists
Step #1: c73a781248ed: Pushed
Step #1: e28701cc204a: Pushed
Step #1: 08000c18d16d: Layer already exists
Step #1: da77134b78de: Pushed
Step #1: 9cac639: digest: sha256:b4d69d88a6648e53d2da62a7659275aa547bf364a1624674d3cc4ee332d7cdd6 size: 2827
Finished Step #1
PUSH
Pushing us-east4-docker.pkg.dev/adk-rag-hdtest6/cloud-run-repo1/frontend:9cac639
The push refers to repository [us-east4-docker.pkg.dev/adk-rag-hdtest6/cloud-run-repo1/frontend]
c19f147e29f9: Preparing
da77134b78de: Preparing
c86129f4b120: Preparing
b2c2a7b089c0: Preparing
94e587a97bce: Preparing
6a8a3cbf9ff0: Preparing
c73a781248ed: Preparing
e28701cc204a: Preparing
82140d9a70a7: Preparing
f3b40b0cdb1c: Preparing
0b1f26057bd0: Preparing
08000c18d16d: Preparing
6a8a3cbf9ff0: Waiting
c73a781248ed: Waiting
e28701cc204a: Waiting
82140d9a70a7: Waiting
f3b40b0cdb1c: Waiting
0b1f26057bd0: Waiting
08000c18d16d: Waiting
94e587a97bce: Layer already exists
b2c2a7b089c0: Layer already exists
da77134b78de: Layer already exists
c86129f4b120: Layer already exists
c19f147e29f9: Layer already exists
6a8a3cbf9ff0: Layer already exists
c73a781248ed: Layer already exists
e28701cc204a: Layer already exists
82140d9a70a7: Layer already exists
f3b40b0cdb1c: Layer already exists
0b1f26057bd0: Layer already exists
08000c18d16d: Layer already exists
9cac639: digest: sha256:b4d69d88a6648e53d2da62a7659275aa547bf364a1624674d3cc4ee332d7cdd6 size: 2827
DONE
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------
ID                                    CREATE_TIME                DURATION  SOURCE                                                                                         IMAGES                                                                    STATUS
3af839d8-719d-45e1-9995-57b9a0587d6b  2025-10-29T18:38:14+00:00  2M46S     gs://adk-rag-hdtest6_cloudbuild/source/1761763092.779703-eeb4b7f6369948cabd924c2ffca139b1.tgz  us-east4-docker.pkg.dev/adk-rag-hdtest6/cloud-run-repo1/frontend:9cac639  SUCCESS
[0;32mâœ… Frontend image built: us-east4-docker.pkg.dev/adk-rag-hdtest6/cloud-run-repo1/frontend:9cac639[0m
[0;34mâ„¹ï¸  Deploying frontend to Cloud Run...[0m
[0;32mâœ… Frontend deployed: https://frontend-3tizxtwazq-uk.a.run.app[0m

[0;36mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m
[0;36mðŸ“‹ SECTION 4: OAuth Configuration[0m
[0;36mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m
[0;34mâ„¹ï¸  Project Number: 965537996595[0m
[0;34mâ„¹ï¸  Checking OAuth consent screen configuration...[0m
[0;32mâœ… OAuth brand exists: 965537996595[0m

[0;36mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m
[0;36mðŸ“‹ SECTION 5: Load Balancer Setup[0m
[0;36mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m
[0;34mâ„¹ï¸  Creating static IP address...[0m
[1;33mâš ï¸  Static IP already exists[0m
[0;34mâ„¹ï¸  Load Balancer URL: https://130.211.35.182.nip.io[0m
[0;34mâ„¹ï¸  Creating SSL certificate...[0m
[1;33mâš ï¸  SSL certificate already exists[0m
[0;34mâ„¹ï¸  SSL Certificate Status: ACTIVE[0m
[0;34mâ„¹ï¸  Creating Network Endpoint Groups...[0m
  âœ“ Frontend NEG exists
  âœ“ Backend NEG exists
[0;32mâœ… Network Endpoint Groups configured[0m
[0;34mâ„¹ï¸  Creating backend services...[0m
  âœ“ Frontend backend service exists
  âœ“ Frontend backend already attached
  âœ“ Backend backend service exists
  âœ“ Backend backend already attached
[0;32mâœ… Backend services configured[0m
[0;34mâ„¹ï¸  Creating URL map for routing...[0m
[1;33mâš ï¸  URL map already exists[0m
[0;34mâ„¹ï¸  Configuring path-based routing (/api/* â†’ backend)...[0m
[1;33mâš ï¸  Path matcher may already exist[0m
[0;32mâœ… URL map configured (/ â†’ frontend, /api/* â†’ backend)[0m
[0;34mâ„¹ï¸  Creating HTTPS proxy...[0m
[1;33mâš ï¸  HTTPS proxy already exists[0m
[0;34mâ„¹ï¸  Creating forwarding rule...[0m
[1;33mâš ï¸  Forwarding rule already exists[0m
[0;32mâœ… Load Balancer infrastructure complete[0m

[0;36mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m
[0;36mðŸ“‹ SECTION 6: IAP Configuration[0m
[0;36mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m
[0;34mâ„¹ï¸  Creating OAuth client with Load Balancer redirect URIs...[0m
Load Balancer URL: https://130.211.35.182.nip.io
Required redirect URIs:
  - https://130.211.35.182.nip.io
  - https://130.211.35.182.nip.io/_gcp_gatekeeper/authenticate

[0;34mâ„¹ï¸  Checking for existing OAuth clients...[0m
[1;33mâš ï¸  Found existing OAuth clients. Cleaning up...[0m
  Deleting: projects/965537996595/brands/965537996595/identityAwareProxyClients/965537996595-arnb9768p5g1ti4o7lcqhaporuvq97eh.apps.googleusercontent.com
[0;34mâ„¹ï¸  Creating new OAuth client...[0m
[0;32mâœ… OAuth client created[0m
  Client ID: 965537996595-8k4e2il5thuo4iov6tmsodeafc9brbp9.apps.googleusercontent.com

[0;31mðŸš¨ MANUAL STEP REQUIRED:[0m
[1;33mAdd redirect URIs in Google Cloud Console:[0m

1. Go to: https://console.cloud.google.com/apis/credentials?project=adk-rag-hdtest6
2. Click on: Load Balancer IAP Client (965537996595-8k4e2il5thuo4iov6tmsodeafc9brbp9.apps.googleusercontent.com)
3. Add these redirect URIs:
[0;36m   âž¤ https://130.211.35.182.nip.io[0m
[0;36m   âž¤ https://130.211.35.182.nip.io/_gcp_gatekeeper/authenticate[0m
4. Click SAVE

[0;34mâ„¹ï¸  Creating IAP service account...[0m
[0;34mâ„¹ï¸  IAP Service Account: service-965537996595@gcp-sa-iap.iam.gserviceaccount.com[0m
[0;34mâ„¹ï¸  Granting IAP service account permissions...[0m
bindings:
- members:
  - allUsers
  - serviceAccount:service-965537996595@gcp-sa-iap.iam.gserviceaccount.com
  role: roles/run.invoker
etag: BwZCUH37w_4=
version: 1
bindings:
- members:
  - allUsers
  - serviceAccount:service-965537996595@gcp-sa-iap.iam.gserviceaccount.com
  role: roles/run.invoker
etag: BwZCUH4tBdw=
version: 1
[0;32mâœ… IAP service account configured[0m
[0;34mâ„¹ï¸  Enabling IAP on backend services...[0m
Using OAuth Client ID: 965537996595-8k4e2il5thuo4iov6tmsodeafc9brbp9.apps.googleusercontent.com
  Enabling IAP on frontend backend service...
  Enabling IAP on backend backend service...
[0;32mâœ… IAP enabled on backend services[0m
[0;34mâ„¹ï¸  Configuring IAP access permissions...[0m
  Granting access to hector@develom.com...
bindings:
- members:
  - serviceAccount:adk-rag-agent-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/aiplatform.admin
- members:
  - serviceAccount:service-965537996595@gcp-sa-vertex-rag.iam.gserviceaccount.com
  role: roles/aiplatform.ragServiceAgent
- members:
  - serviceAccount:service-965537996595@gcp-sa-aiplatform.iam.gserviceaccount.com
  role: roles/aiplatform.serviceAgent
- members:
  - serviceAccount:backend-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/aiplatform.user
- members:
  - serviceAccount:service-965537996595@gcp-sa-artifactregistry.iam.gserviceaccount.com
  role: roles/artifactregistry.serviceAgent
- members:
  - serviceAccount:adk-rag-agent-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/bigquery.admin
- members:
  - serviceAccount:965537996595@cloudbuild.gserviceaccount.com
  role: roles/cloudbuild.builds.builder
- members:
  - serviceAccount:service-965537996595@gcp-sa-cloudbuild.iam.gserviceaccount.com
  role: roles/cloudbuild.serviceAgent
- members:
  - serviceAccount:service-965537996595@compute-system.iam.gserviceaccount.com
  role: roles/compute.serviceAgent
- members:
  - serviceAccount:service-965537996595@containerregistry.iam.gserviceaccount.com
  role: roles/containerregistry.ServiceAgent
- members:
  - serviceAccount:965537996595-compute@developer.gserviceaccount.com
  - serviceAccount:965537996595@cloudservices.gserviceaccount.com
  role: roles/editor
- members:
  - domain:develom.com
  - serviceAccount:iap-accessor@adk-rag-hdtest6.iam.gserviceaccount.com
  - user:hector@develom.com
  role: roles/iap.httpsResourceAccessor
- members:
  - user:hector@develom.com
  role: roles/owner
- members:
  - serviceAccount:service-965537996595@gcp-sa-pubsub.iam.gserviceaccount.com
  role: roles/pubsub.serviceAgent
- members:
  - serviceAccount:service-965537996595@serverless-robot-prod.iam.gserviceaccount.com
  role: roles/run.serviceAgent
- members:
  - serviceAccount:adk-rag-agent-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/storage.admin
- members:
  - serviceAccount:backend-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/storage.objectViewer
etag: BwZCUIIlqj0=
version: 1
  Granting access to develom.com domain...
bindings:
- members:
  - serviceAccount:adk-rag-agent-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/aiplatform.admin
- members:
  - serviceAccount:service-965537996595@gcp-sa-vertex-rag.iam.gserviceaccount.com
  role: roles/aiplatform.ragServiceAgent
- members:
  - serviceAccount:service-965537996595@gcp-sa-aiplatform.iam.gserviceaccount.com
  role: roles/aiplatform.serviceAgent
- members:
  - serviceAccount:backend-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/aiplatform.user
- members:
  - serviceAccount:service-965537996595@gcp-sa-artifactregistry.iam.gserviceaccount.com
  role: roles/artifactregistry.serviceAgent
- members:
  - serviceAccount:adk-rag-agent-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/bigquery.admin
- members:
  - serviceAccount:965537996595@cloudbuild.gserviceaccount.com
  role: roles/cloudbuild.builds.builder
- members:
  - serviceAccount:service-965537996595@gcp-sa-cloudbuild.iam.gserviceaccount.com
  role: roles/cloudbuild.serviceAgent
- members:
  - serviceAccount:service-965537996595@compute-system.iam.gserviceaccount.com
  role: roles/compute.serviceAgent
- members:
  - serviceAccount:service-965537996595@containerregistry.iam.gserviceaccount.com
  role: roles/containerregistry.ServiceAgent
- members:
  - serviceAccount:965537996595-compute@developer.gserviceaccount.com
  - serviceAccount:965537996595@cloudservices.gserviceaccount.com
  role: roles/editor
- members:
  - domain:develom.com
  - serviceAccount:iap-accessor@adk-rag-hdtest6.iam.gserviceaccount.com
  - user:hector@develom.com
  role: roles/iap.httpsResourceAccessor
- members:
  - user:hector@develom.com
  role: roles/owner
- members:
  - serviceAccount:service-965537996595@gcp-sa-pubsub.iam.gserviceaccount.com
  role: roles/pubsub.serviceAgent
- members:
  - serviceAccount:service-965537996595@serverless-robot-prod.iam.gserviceaccount.com
  role: roles/run.serviceAgent
- members:
  - serviceAccount:adk-rag-agent-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/storage.admin
- members:
  - serviceAccount:backend-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  role: roles/storage.objectViewer
etag: BwZCUIJOtYg=
version: 1
[0;32mâœ… IAP access permissions configured[0m

[0;36mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m
[0;36mðŸ“‹ SECTION 7: Finalization & CORS Configuration[0m
[0;36mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m
[0;34mâ„¹ï¸  Updating backend CORS configuration...[0m
[0;34mâ„¹ï¸  Applying CORS breakthrough fix...[0m
bindings:
- members:
  - allUsers
  - serviceAccount:service-965537996595@gcp-sa-iap.iam.gserviceaccount.com
  role: roles/run.invoker
etag: BwZCUIPrV1g=
version: 1
[0;32mâœ… CORS configured[0m
[0;34mâ„¹ï¸  Rebuilding frontend with Load Balancer URL...[0m
Building with NEXT_PUBLIC_BACKEND_URL=https://130.211.35.182.nip.io
-------------------------------------------------------------------------- REMOTE BUILD OUTPUT --------------------------------------------------------------------------
starting build "db2ea8c0-4262-4a80-948e-b6dd837f41c1"

FETCHSOURCE
Fetching storage object: gs://adk-rag-hdtest6_cloudbuild/source/1761763439.629475-2a86db7d401248dcb748155f14e983f7.tgz#1761763440961912
Copying gs://adk-rag-hdtest6_cloudbuild/source/1761763439.629475-2a86db7d401248dcb748155f14e983f7.tgz#1761763440961912...
/ [0 files][    0.0 B/  1.8 MiB]                                                / [1 files][  1.8 MiB/  1.8 MiB]                                                
Operation completed over 1 objects/1.8 MiB.
BUILD
Starting Step #0
Step #0: Already have image (with digest): gcr.io/cloud-builders/docker
Step #0: Sending build context to Docker daemon  2.552MB
Step #0: Step 1/30 : FROM node:18-alpine AS base
Step #0: 18-alpine: Pulling from library/node
Step #0: f18232174bc9: Pulling fs layer
Step #0: dd71dde834b5: Pulling fs layer
Step #0: 1e5a4c89cee5: Pulling fs layer
Step #0: 25ff2da83641: Pulling fs layer
Step #0: 25ff2da83641: Waiting
Step #0: 1e5a4c89cee5: Verifying Checksum
Step #0: 1e5a4c89cee5: Download complete
Step #0: f18232174bc9: Verifying Checksum
Step #0: f18232174bc9: Download complete
Step #0: dd71dde834b5: Verifying Checksum
Step #0: dd71dde834b5: Download complete
Step #0: f18232174bc9: Pull complete
Step #0: 25ff2da83641: Verifying Checksum
Step #0: 25ff2da83641: Download complete
Step #0: dd71dde834b5: Pull complete
Step #0: 1e5a4c89cee5: Pull complete
Step #0: 25ff2da83641: Pull complete
Step #0: Digest: sha256:8d6421d663b4c28fd3ebc498332f249011d118945588d0a35cb9bc4b8ca09d9e
Step #0: Status: Downloaded newer image for node:18-alpine
Step #0:  ---> ee77c6cd7c18
Step #0: Step 2/30 : FROM base AS deps
Step #0:  ---> ee77c6cd7c18
Step #0: Step 3/30 : RUN apk add --no-cache libc6-compat
Step #0:  ---> Running in 3bb885810e9a
Step #0: fetch https://dl-cdn.alpinelinux.org/alpine/v3.21/main/x86_64/APKINDEX.tar.gz
Step #0: fetch https://dl-cdn.alpinelinux.org/alpine/v3.21/community/x86_64/APKINDEX.tar.gz
Step #0: (1/3) Installing musl-obstack (1.2.3-r2)
Step #0: (2/3) Installing libucontext (1.3.2-r0)
Step #0: (3/3) Installing gcompat (1.1.0-r4)
Step #0: OK: 10 MiB in 20 packages
Step #0: Removing intermediate container 3bb885810e9a
Step #0:  ---> f49be4b2273a
Step #0: Step 4/30 : WORKDIR /app
Step #0:  ---> Running in 77c9668bae55
Step #0: Removing intermediate container 77c9668bae55
Step #0:  ---> 55b26dc9f31a
Step #0: Step 5/30 : COPY package.json package-lock.json* ./
Step #0:  ---> 660fdcf3b7ac
Step #0: Step 6/30 : RUN npm install
Step #0:  ---> Running in 4561bf526cb3
Step #0: 
Step #0: added 495 packages, and audited 496 packages in 22s
Step #0: 
Step #0: 241 packages are looking for funding
Step #0:   run `npm fund` for details
Step #0: 
Step #0: 1 moderate severity vulnerability
Step #0: 
Step #0: To address all issues, run:
Step #0:   npm audit fix --force
Step #0: 
Step #0: Run `npm audit` for details.
Step #0: [91mnpm notice
Step #0: npm notice New major version of npm available! 10.8.2 -> 11.6.2
Step #0: npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.2
Step #0: npm notice To update run: npm install -g npm@11.6.2
Step #0: npm notice
Step #0: [0mRemoving intermediate container 4561bf526cb3
Step #0:  ---> 471e01101dec
Step #0: Step 7/30 : FROM base AS builder
Step #0:  ---> ee77c6cd7c18
Step #0: Step 8/30 : WORKDIR /app
Step #0:  ---> Running in 35395e497aa4
Step #0: Removing intermediate container 35395e497aa4
Step #0:  ---> 1363ab7aed77
Step #0: Step 9/30 : COPY --from=deps /app/node_modules ./node_modules
Step #0:  ---> 983b923f2834
Step #0: Step 10/30 : COPY . .
Step #0:  ---> de0c54bb19a4
Step #0: Step 11/30 : ENV NEXT_TELEMETRY_DISABLED 1
Step #0:  ---> Running in 182e0480a025
Step #0: Removing intermediate container 182e0480a025
Step #0:  ---> 5322cb66fa4e
Step #0: Step 12/30 : ARG NEXT_PUBLIC_BACKEND_URL
Step #0:  ---> Running in 06b8d3661f81
Step #0: Removing intermediate container 06b8d3661f81
Step #0:  ---> 8753b736b37c
Step #0: Step 13/30 : ENV NEXT_PUBLIC_BACKEND_URL=$NEXT_PUBLIC_BACKEND_URL
Step #0:  ---> Running in e11e7723db57
Step #0: Removing intermediate container e11e7723db57
Step #0:  ---> bc82db904e6c
Step #0: Step 14/30 : RUN npm run build
Step #0:  ---> Running in 3894d89754f0
Step #0: 
Step #0: > frontend@0.1.0 build
Step #0: > next build
Step #0: 
Step #0:    â–² Next.js 15.4.6
Step #0: 
Step #0:    Creating an optimized production build ...
Step #0:  âœ“ Compiled successfully in 23.0s
Step #0:    Skipping linting
Step #0:    Checking validity of types ...
Step #0:    Collecting page data ...
Step #0:    Generating static pages (0/7) ...
Step #0:    Generating static pages (1/7) 
Step #0:    Generating static pages (3/7) 
Step #0:    Generating static pages (5/7) 
Step #0:  âœ“ Generating static pages (7/7)
Step #0:    Finalizing page optimization ...
Step #0:    Collecting build traces ...
Step #0: 
Step #0: Route (app)                                 Size  First Load JS
Step #0: â”Œ â—‹ /                                      55 kB         155 kB
Step #0: â”œ â—‹ /_not-found                            992 B         101 kB
Step #0: â”œ â—‹ /admin                               2.54 kB         102 kB
Step #0: â”” â—‹ /admin/sessions                      6.06 kB         106 kB
Step #0: + First Load JS shared by all            99.6 kB
Step #0:   â”œ chunks/4bd1b696-cf72ae8a39fa05aa.js  54.1 kB
Step #0:   â”œ chunks/964-7a34cadcb7695cec.js       43.5 kB
Step #0:   â”” other shared chunks (total)          1.93 kB
Step #0: 
Step #0: 
Step #0: â—‹  (Static)  prerendered as static content
Step #0: 
Step #0: [91mnpm notice
Step #0: npm notice New major version of npm available! 10.8.2 -> 11.6.2
Step #0: npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.6.2
Step #0: npm notice To update run: npm install -g npm@11.6.2
Step #0: npm notice
Step #0: [0mRemoving intermediate container 3894d89754f0
Step #0:  ---> b59b8a618a51
Step #0: Step 15/30 : FROM base AS runner
Step #0:  ---> ee77c6cd7c18
Step #0: Step 16/30 : WORKDIR /app
Step #0:  ---> Using cache
Step #0:  ---> 1363ab7aed77
Step #0: Step 17/30 : ENV NODE_ENV production
Step #0:  ---> Running in e7069ec11a49
Step #0: Removing intermediate container e7069ec11a49
Step #0:  ---> 1b6d5b29b5f1
Step #0: Step 18/30 : ENV NEXT_TELEMETRY_DISABLED 1
Step #0:  ---> Running in aa9f9b958531
Step #0: Removing intermediate container aa9f9b958531
Step #0:  ---> b6c6d8872d73
Step #0: Step 19/30 : RUN addgroup --system --gid 1001 nodejs
Step #0:  ---> Running in 0ac834191985
Step #0: Removing intermediate container 0ac834191985
Step #0:  ---> 6659e81f3e9e
Step #0: Step 20/30 : RUN adduser --system --uid 1001 nextjs
Step #0:  ---> Running in 973020a881a9
Step #0: Removing intermediate container 973020a881a9
Step #0:  ---> ceba7700d01f
Step #0: Step 21/30 : COPY --from=builder /app/public ./public
Step #0:  ---> dfc0df363e58
Step #0: Step 22/30 : RUN mkdir .next
Step #0:  ---> Running in 01dac827e04d
Step #0: Removing intermediate container 01dac827e04d
Step #0:  ---> 6a3f0debea79
Step #0: Step 23/30 : RUN chown nextjs:nodejs .next
Step #0:  ---> Running in ac91e1775c28
Step #0: Removing intermediate container ac91e1775c28
Step #0:  ---> 76168a36096d
Step #0: Step 24/30 : COPY --from=builder --chown=nextjs:nodejs /app/.next/standalone ./
Step #0:  ---> c560fa1554ba
Step #0: Step 25/30 : COPY --from=builder --chown=nextjs:nodejs /app/.next/static ./.next/static
Step #0:  ---> 38c38c7d6794
Step #0: Step 26/30 : USER nextjs
Step #0:  ---> Running in b2a73d6daa0b
Step #0: Removing intermediate container b2a73d6daa0b
Step #0:  ---> 6f28fea9a17f
Step #0: Step 27/30 : EXPOSE 3000
Step #0:  ---> Running in 594434a4e258
Step #0: Removing intermediate container 594434a4e258
Step #0:  ---> 6623cd249065
Step #0: Step 28/30 : ENV PORT 3000
Step #0:  ---> Running in 742564cadd59
Step #0: Removing intermediate container 742564cadd59
Step #0:  ---> ab92ca1a8350
Step #0: Step 29/30 : ENV HOSTNAME "0.0.0.0"
Step #0:  ---> Running in 3776e208612c
Step #0: Removing intermediate container 3776e208612c
Step #0:  ---> ab527cf2ab89
Step #0: Step 30/30 : CMD ["node", "server.js"]
Step #0:  ---> Running in a6cd781ef303
Step #0: Removing intermediate container a6cd781ef303
Step #0:  ---> 861c20a1b87d
Step #0: Successfully built 861c20a1b87d
Step #0: Successfully tagged us-east4-docker.pkg.dev/adk-rag-hdtest6/cloud-run-repo1/frontend:9cac639-lb
Finished Step #0
Starting Step #1
Step #1: Already have image (with digest): gcr.io/cloud-builders/docker
Step #1: The push refers to repository [us-east4-docker.pkg.dev/adk-rag-hdtest6/cloud-run-repo1/frontend]
Step #1: d588c4271145: Preparing
Step #1: 00f77bea2797: Preparing
Step #1: b99289f0cfc5: Preparing
Step #1: 8d1ea57f6d81: Preparing
Step #1: 9c76b94e973a: Preparing
Step #1: e92df5fbae39: Preparing
Step #1: 373f754799e7: Preparing
Step #1: 00ca9c889578: Preparing
Step #1: 82140d9a70a7: Preparing
Step #1: f3b40b0cdb1c: Preparing
Step #1: 0b1f26057bd0: Preparing
Step #1: 08000c18d16d: Preparing
Step #1: e92df5fbae39: Waiting
Step #1: 82140d9a70a7: Waiting
Step #1: 373f754799e7: Waiting
Step #1: f3b40b0cdb1c: Waiting
Step #1: 0b1f26057bd0: Waiting
Step #1: 00ca9c889578: Waiting
Step #1: 08000c18d16d: Waiting
Step #1: 8d1ea57f6d81: Pushed
Step #1: d588c4271145: Pushed
Step #1: b99289f0cfc5: Pushed
Step #1: 9c76b94e973a: Pushed
Step #1: 82140d9a70a7: Layer already exists
Step #1: e92df5fbae39: Pushed
Step #1: f3b40b0cdb1c: Layer already exists
Step #1: 0b1f26057bd0: Layer already exists
Step #1: 08000c18d16d: Layer already exists
Step #1: 373f754799e7: Pushed
Step #1: 00ca9c889578: Pushed
Step #1: 00f77bea2797: Pushed
Step #1: 9cac639-lb: digest: sha256:4595910a41c694e5587ce330a57b936db944d1b9248e0a08094b13a80a047b93 size: 2827
Finished Step #1
PUSH
Pushing us-east4-docker.pkg.dev/adk-rag-hdtest6/cloud-run-repo1/frontend:9cac639-lb
The push refers to repository [us-east4-docker.pkg.dev/adk-rag-hdtest6/cloud-run-repo1/frontend]
d588c4271145: Preparing
00f77bea2797: Preparing
b99289f0cfc5: Preparing
8d1ea57f6d81: Preparing
9c76b94e973a: Preparing
e92df5fbae39: Preparing
373f754799e7: Preparing
00ca9c889578: Preparing
82140d9a70a7: Preparing
f3b40b0cdb1c: Preparing
0b1f26057bd0: Preparing
08000c18d16d: Preparing
e92df5fbae39: Waiting
373f754799e7: Waiting
00ca9c889578: Waiting
82140d9a70a7: Waiting
f3b40b0cdb1c: Waiting
0b1f26057bd0: Waiting
08000c18d16d: Waiting
b99289f0cfc5: Layer already exists
9c76b94e973a: Layer already exists
00f77bea2797: Layer already exists
8d1ea57f6d81: Layer already exists
d588c4271145: Layer already exists
e92df5fbae39: Layer already exists
373f754799e7: Layer already exists
00ca9c889578: Layer already exists
82140d9a70a7: Layer already exists
f3b40b0cdb1c: Layer already exists
0b1f26057bd0: Layer already exists
08000c18d16d: Layer already exists
9cac639-lb: digest: sha256:4595910a41c694e5587ce330a57b936db944d1b9248e0a08094b13a80a047b93 size: 2827
DONE
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------
ID                                    CREATE_TIME                DURATION  SOURCE                                                                                         IMAGES                                                                       STATUS
db2ea8c0-4262-4a80-948e-b6dd837f41c1  2025-10-29T18:44:01+00:00  3M2S      gs://adk-rag-hdtest6_cloudbuild/source/1761763439.629475-2a86db7d401248dcb748155f14e983f7.tgz  us-east4-docker.pkg.dev/adk-rag-hdtest6/cloud-run-repo1/frontend:9cac639-lb  SUCCESS
[0;34mâ„¹ï¸  Redeploying frontend with Load Balancer URL...[0m
[0;32mâœ… Frontend rebuilt and redeployed[0m
[0;34mâ„¹ï¸  Validating deployment...[0m
  SSL Certificate: ACTIVE
  Frontend IAP: True
  Backend IAP: True
[0;32mâœ… Validation complete[0m

[0;34mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m
[0;32mðŸŽ‰ DEPLOYMENT COMPLETE![0m
[0;34mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m

[0;34mðŸ“‹ Deployment Details:[0m
  Project ID: adk-rag-hdtest6
  Region: us-east4
  Static IP: 130.211.35.182
  Load Balancer URL: https://130.211.35.182.nip.io
  OAuth Client ID: 965537996595-8k4e2il5thuo4iov6tmsodeafc9brbp9.apps.googleusercontent.com
  IAP Service Account: service-965537996595@gcp-sa-iap.iam.gserviceaccount.com

[0;34mðŸ—ï¸  Architecture:[0m
  Internet â†’ HTTPS Load Balancer (SSL + IAP) â†’ Cloud Run Services
  â”œâ”€â”€ "/" â†’ Frontend service
  â””â”€â”€ "/api/*" â†’ Backend service

[0;34mðŸ” Security Features:[0m
  âœ… External HTTPS Load Balancer with SSL
  âœ… Identity-Aware Proxy (IAP) with Google OAuth
  âœ… OAuth consent screen flow
  âœ… Domain-restricted access (@develom.com)
  âœ… CORS configured
  âœ… Two-layer authentication (IAP + Application JWT)

[0;34mðŸŒ Access Instructions:[0m
1. Wait 2-3 minutes for configuration propagation
2. Clear browser cache
3. Open: https://130.211.35.182.nip.io
4. Expected flow:
   â†’ Google OAuth login
   â†’ Sign in with @develom.com account
   â†’ OAuth consent (if first time)
   â†’ RAG application

[0;34mðŸ”§ Useful Commands:[0m
# Check SSL status
gcloud compute ssl-certificates describe rag-agent-ssl-cert --global

# Check IAP status
gcloud compute backend-services describe frontend-backend-service --global

# View logs
gcloud logs read --service=backend --region=us-east4 --limit=50

# Run validation
./infrastructure/validate-security.sh

[0;32mâœ¨ Your ADK RAG Agent is now deployed and secured![0m

[0;32mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m
[0;32mðŸš€ Deployment completed successfully in 13m 23s[0m
[0;32mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m

[0;34mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m
[0;34mðŸ“‹ FINAL ENVIRONMENT VARIABLES USED IN DEPLOYMENT[0m
[0;34mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m

[1;33mCore Configuration:[0m
  PROJECT_ID                = adk-rag-hdtest6
  PROJECT_NUMBER            = 965537996595
  REGION                    = us-east4
  ORGANIZATION_DOMAIN       = develom.com
  IAP_ADMIN_USER            = hector@develom.com
  REPO                      = cloud-run-repo1

[1;33mContainer Images:[0m
  BACKEND_IMAGE             = us-east4-docker.pkg.dev/adk-rag-hdtest6/cloud-run-repo1/backend:9cac639
  FRONTEND_IMAGE            = us-east4-docker.pkg.dev/adk-rag-hdtest6/cloud-run-repo1/frontend:9cac639

[1;33mService Accounts:[0m
  BACKEND_SA                = backend-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  FRONTEND_SA               = frontend-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  RAG_AGENT_SA              = adk-rag-agent-sa@adk-rag-hdtest6.iam.gserviceaccount.com
  IAP_ACCESSOR_SA           = iap-accessor@adk-rag-hdtest6.iam.gserviceaccount.com

[1;33mService URLs:[0m
  BACKEND_URL               = https://backend-3tizxtwazq-uk.a.run.app
  FRONTEND_URL              = https://frontend-3tizxtwazq-uk.a.run.app
  LOAD_BALANCER_URL         = https://130.211.35.182.nip.io

[1;33mInfrastructure:[0m
  STATIC_IP                 = 130.211.35.182
  SSL_STATUS                = ACTIVE


[0;34mâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[0m

[1;33mðŸ” Verifying Backend Configuration:[0m
  ACCOUNT_ENV               = develom

